{"version":3,"sources":["NewQs/RandomFuncs.js","Reducers/actions.js","NewQs/QTypes.js","NewQs/MetricConversion.js","NewQs/TimeConversion.js","NewQs/VocabQ.js","NewQs/Ratio.js","NewQs/AlgebraFuncs/CoeffsAndVars.js","NewQs/AlgebraFuncs/SimplifyAddSub.js","NewQs/AlgebraFuncs/ExpandBracket.js","NewQs/AlgebraQ.js","NewQs/AlgebraFuncs/substitution.js","NewQs/simulEqsQ.js","NewQs/AlgebraFuncs/linearQs/bothSidesQ.js","NewQs/AlgebraFuncs/linearQs/linearFractionQ.js","NewQs/AlgebraFuncs/solveLinear.js","NewQs/AlgebraFuncs/linearQs/oneStep.js","NewQs/AlgebraFuncs/linearQs/twoStep.js","NewQs/AlgebraFuncs/linearQs/bracketQ.js","NewQs/sequenceFuncs.js/linearSeqQs.js","NewQs/sequenceFuncs.js/geometricSeqQs.js","NewQs/sequenceFuncs.js/fibonacciSeq.js","NewQs/SequenceQs.js","NewQs/sequenceFuncs.js/nextTermQ.js","NewQs/sequenceFuncs.js/twoStepSeqQs.js","NewQs/DataQ.js","NewQs/Decimals.js","NewQs/fractionFuncs/getSimpFrac.js","NewQs/fractionFuncs/simplifyQ.js","NewQs/fractionFuncs/simplifyFrac.js","NewQs/fractionFuncs/addFracQ.js","NewQs/fractions.js","NewQs/NumberOperations.js","NewQs/NegNumQ.js","NewQs/FactorsMultiples.js","NewQs/Percentage.js","NewQs/GetNewQ.js","Ratings/Ratings.js","components/Keypad.js","components/Question.js","components/QWithReveal.js","components/ClassRoom.js","components/TopicSelect.js","App.js","Reducers/Reducer.js","serviceWorker.js","index.js"],"names":["RandomElement","arr","Math","floor","random","length","RandomInt","n","nRandomInts","max","l","i","push","elementsFrom","distinctElementsFrom","list","slice","filter","x","indexOf","primes","smallPrimes","RandomPrime","t","distinctPrimes","random2357","maxE","exponents","map","every","value","reduce","acc","val","names","randomNames","ChangeActiveScreen","newScreen","type","QTypes","topic","subTopics","conversionPairs","large","small","ratio","MetricConversionQ","subQType","Qtype","findIndex","cp","console","log","convFacts","forward","extraLarge","q","a","QType","metricConversion","hms2sec","h","m","s","rnd","outof","TimeConversionQ","subType","left","right","leftUnits","rightUnits","Number","sec","min","hr","totalSec","TimeConversion","answerFormat","extraKeys","VocabQList","VocabQ","question","subQTypes","coprimes","1","2","3","4","5","multipliers","decFrac","giveNames","join","RatioQ","quAndA","Ratio","qA","b","high","simp","simplifyQ","dF","mF","mapFormQ","seq","split","ratioVals","keepRatioQ","askAbout","shareQ","comparitor","abs","givenDiffQ","require","Coeffs","Array","fill","combine","c","v","exp","SimplifyAddSub","varList","sort","simpAddSubQ","coeffs","letters","threeVars","twoVars","oneVar","Brackets1","outer","varNames","multiply","out","inner","Expand1","FactoriseQ","level","co","p1","p2","Expand2","out1","co1","pm","out2","co2","first","second","final","Algebra01Q","Algebra01","newQ","furtherInstructions","mult","Expand1Q","c1","c2","o1","o2","vs","Expand2SimplifyQ","expression","valList","answer","toSub","substitutionQ","simulEqsQ","simulEqs","y","coef1","coef2","coef3","coef4","tidy","u","SolveLinearQ","SolveLinear","coefOfx","constTerm","oneStepTypes","qType","oneStep","coeffOfx","twoStep","bracketType","bracketQ","bothsSidestype","otherCoef","bothSidesQ","fractionType","r","d","linearFractionQ","rndLinearSeq","_","nthTermQ","dir","nextTermGeometric","rndGeometricSeq","reverse","nextTermFib","dp","rndFibSeq","getSequenceQ","sequenceQs","nextTermLinear","giveRule","extra","nth","findNthTerm","nextTermQ","add","last","rnd2StepSeq","modeQ","howMany","offset","tally","modes","maxFreq","p","forEach","rangeQ","medianQ","listLength","sortedList","meanQ","listTotal","targetMean","ceil","DataQ","Data","DecimalQ","Decimal","hundreds","tens","smaller","tensBigger","aBitOff","listDecimals","upOrDown","orderQ","dPlaces","dToRound","round","toFixed","roundQ","simpFracs","numer","denom","simpFrac","parts","simplifyFrac","frac","addFracQ","ans","ansNum","FractionQ","Fraction","includes","NegNumQ","NegNumbers","op","notBothPositive","FactorsMultiplesQ","FactorsMultiples","base","times","findMultipleQ","factor","multiple","facOrMulQ","numOfPrimes","prodOfPrimesQ","hcf","numbers","hcfQ","lcmQ","number","numFactorsQ","beginners","intermediate","subTypeList","percentAmount","percen","amount","GetNewQ","returnable","MultiplyNumbers","MultiplyNumberQ","PercentOf","PercentOfQ","PercentChange","PercentChangeQ","ReversePercentageQ","transformRating","rating","NewRatings","rating1","rating2","result","howProvisional","r1","r2","ratingSum","newR1","newR2","connect","state","extraKeys4Pad","Keypad_number","payload","Keypad_delete","buttons1_9","onClick","className","key","button0","buttonDP","buttonDEL","buttonCount","extraButtons","needNewRatedQ","wrongAnswers","userAnswer","userRating","UpdateUserAnswer","newAnswer","UserRatingChanges","newUserRating","SetNewQ","newQuAndA","UserIsWrong","newQuAndARating","wrongAnswer","NeedNewRatedQ","wrongAnswerList","useEffect","async","toGet","qRating","axios","get","params","then","res","data","catch","err","getQRating","promiseMessage","QRating","id","onSubmit","e","preventDefault","userIsCorrect","toLowerCase","replace","toPost","category","ratingValue","put","name","onChange","target","QWithReveal","showAnswer","localQ","props","freshQ","quandaClass","rowType","handleClick","setState","refreshQ","RevealButton","this","Answer","title","React","Component","ClassRoom","qList","typeList","QTypeSplit","selectedTopics","ToggleTopic","AllTopics","mode","qTypeList","DropdownButton","variant","startsWith","Dropdown","Item","st","active","Button","ButtonGroup","userName","userID","currentQ","activeScreen","giveme5Option","rateMymathsOption","selectTopicsOption","userLabel","size","mainScreen","defaultExtraKeys","initialState","userLoggedIn","addOrDrop","el","reducer","action","Boolean","window","location","hostname","match","ReactDOM","render","store","createStore","Reducer","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.87c21aa2.chunk.js","sourcesContent":["export const RandomElement = (arr) => arr[Math.floor(Math.random()*arr.length)];\r\nexport const RandomInt = (n) => Math.floor(Math.random()*n);\r\nexport const nRandomInts = (n, max) => {\r\n    var l = [];\r\n    var i = 0;\r\n    while (i < n){\r\n        l.push(RandomInt(max));\r\n        i++;\r\n    }\r\n    return l;\r\n}\r\n\r\nexport const elementsFrom = (n, arr) => {\r\n    if (arr.length === n) {return arr}\r\n    if (arr.length > n) {return distinctElementsFrom(n, arr)}\r\n    var list = [];\r\n    while (list.length<n) {\r\n        list = [...list, ...arr];\r\n    }\r\n    return list.slice(0, n)\r\n}\r\n\r\nexport const distinctElementsFrom = (n, arr) => {\r\n    var list = [];\r\n    if (arr.length<=n) {return arr}\r\n    while (list.length<n) {\r\n        list.push(RandomElement(arr.filter(x=>list.indexOf(x)===-1)))\r\n    }\r\n    return list\r\n}\r\n\r\nexport const primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47];\r\nexport const smallPrimes = [2, 3, 5, 7];\r\n\r\nexport const RandomPrime = (t) => t === 'small' ? RandomElement(smallPrimes) : RandomElement(primes);\r\nexport const distinctPrimes = (n, t) => t === 'small' ? \r\n            distinctElementsFrom(n, smallPrimes) : distinctElementsFrom(n, primes);\r\n\r\nexport const random2357 = (maxE) => {\r\n    // This function gives a random number in prime power notation\r\n    // The output is an object with powers property (powers to which 2, 3, 5, 7 are raised).\r\n    // and value property\r\n    // the highest exponent in maxE\r\n    let exponents = [0,0,0,0].map(x=>RandomInt(maxE+1));\r\n    if (exponents.every(x => x===0)) {exponents = [0, 1, 0, 1]}// gives 21 as a default, rather than 0\r\n    let value = [2, 3, 5, 7].map((x, i) => x**exponents[i])\r\n        .reduce((acc, val) => acc*val, 1)\r\n    return {exponents, value}\r\n}\r\n\r\nconst names = [\r\n    'Alex', 'Arlene', 'Bruce', 'Caroline', 'Demi', 'Evette', \r\n    'Felix', 'Farnaz', 'Grace', 'Helen', 'Isobel', 'James', 'Jana', \r\n    'Katie', 'Kal', 'Louise', 'Meera', 'Muthu', 'Natalie', 'Nandini', 'Nadiya',\r\n    'Parvathy',\r\n    'Ranjit', 'Raji', \r\n    'Sharon','Shraddha', 'Steven', 'Sam',\r\n    'Victoria', 'Val',\r\n    'Zanet'\r\n];\r\n\r\nexport const randomNames = (n) => distinctElementsFrom(n, names);\r\n","export const UPDATE_USER_ANSWER = 'UPDATE_USER_ANSWER';\r\nexport const TOGGLE_TOPIC = \"TOGGLE_TOPIC\";\r\nexport const ALL_TOPICS = \"ALL_TOPICS\";\r\nexport const SET_NEW_Q = 'SET_NEW_Q';\r\nexport const USER_IS_WRONG = 'USER_IS_WRONG';\r\nexport const USER_RATING_CHANGES = 'USER_RATING_CHANGES';\r\nexport const LOGIN_USER = 'LOGIN_USER';\r\nexport const CHANGE_ACTIVE_SCREEN = 'CHANGE_ACTIVE_SCREEN';\r\nexport const NEED_NEW_RATED_Q = 'NEED_NEW_RATED_Q';\r\nexport const KEYPAD_NUMBER = 'KEYPAD_NUMBER';\r\nexport const KEYPAD_DELETE = 'KEYPAD_DELETE';\r\n\r\nexport const UpdateUserAnswer = (newAnswer) => {\r\n    return { type: UPDATE_USER_ANSWER, payload: newAnswer}\r\n}\r\n\r\nexport const ToggleTopic = (topic) => {\r\n    return { type: TOGGLE_TOPIC, topic:topic }\r\n}\r\n\r\nexport const AllTopics = (mode) => {\r\n    return { type: ALL_TOPICS, mode }\r\n}\r\n\r\nexport const SetNewQ = (newQuAndA) => {\r\n    return { type:SET_NEW_Q, quAndA: newQuAndA }\r\n}\r\n\r\nexport const UserIsWrong = (userAnswer, newQuAndARating) => {\r\n    return { type:USER_IS_WRONG, wrongAnswer:userAnswer, newQuAndARating:newQuAndARating }\r\n}\r\n\r\nexport const UserRatingChanges = (newUserRating) => {\r\n    return { type: USER_RATING_CHANGES, userRating: newUserRating}\r\n}\r\n\r\nexport const LoginUser = (name, rating) => {\r\n    return { type: LOGIN_USER, userName: name, userRating:rating }\r\n}\r\n\r\nexport const ChangeActiveScreen = (newScreen) => {\r\n    return { type: CHANGE_ACTIVE_SCREEN, newScreen:newScreen }\r\n}\r\n\r\nexport const NeedNewRatedQ = () => {\r\n    return {type: NEED_NEW_RATED_Q}\r\n}\r\n\r\nexport const Keypad_number = (n) => {\r\n    return {type:KEYPAD_NUMBER, payload:n}\r\n}\r\n\r\nexport const Keypad_delete = () => {\r\n    return {type:KEYPAD_DELETE}\r\n}","export const metricConversion = 'metricConversion';\r\nexport const TimeConversion = 'TimeConversion';\r\nexport const MultiplyNumbers = 'MultiplyNumbers';\r\nexport const NegNumbers = 'NegNumbers';\r\nexport const FactorsMultiples = 'FactorsAndMultiples';\r\nexport const PercentOf = 'PercentOf';\r\nexport const PercentChange = 'PercentChange';\r\nexport const ReversePercentage = 'ReversePercentage';\r\nexport const Vocab = 'Vocab';\r\nexport const Ratio = 'Ratio';\r\nexport const Algebra01 = 'Algebra01';\r\nexport const simulEqs = 'simulEqs';\r\nexport const sequenceQs = 'Sequences'\r\nexport const SolveLinear = 'SolveLinear';\r\nexport const Data = 'Data';\r\nexport const Decimal = 'Decimal';\r\nexport const Fraction = 'Fraction'\r\n\r\n// Aiming for QCodes which the app can parse to produce a new question of the same type\r\n// but with different numbers.\r\n\r\n// Format will be a string with format QType-subQType\r\n// 'metricConversion-2', or 'Algebra01-expandBracket'\r\n// whereas: just 'metricConversion' (or 'metricConversion-0') \r\n// should allow for a random choice of subQType\r\n\r\nexport const QTypes = [\r\n    { topic: Algebra01, subTopics: ['simplifyAddSub', 'expandBracket', 'expand2Simplify', 'factorise1', 'factorise2', 'substitution'] },\r\n    { topic: SolveLinear, subTopics: ['oneStep', 'twoStep', 'brackets', 'bothSides', 'fraction'] },\r\n    { topic: sequenceQs, subTopics: ['nextLinear', 'nextGeometric', 'nextFibonacci', 'next2Step', 'giveT2TLinear', 'useNthTerm', 'giveFormula', 'findNthTerm'] },\r\n    { topic: simulEqs, subTopics: ['shopping', 'sameOfOne', 'negOfOne', 'needsScaling', 'needsArranging'] },\r\n    { topic: Data, subTopics: ['mean', 'meanFindmissing', 'medianOdd', 'medianEven', 'range', 'mode'] },\r\n    { topic: MultiplyNumbers, subTopics: ['sq', 'cube', 'sqEnd5', 'sqEnd1', 'gridWhole'] },\r\n    { topic: NegNumbers, subTopics: ['adding', 'subtract', 'times', 'divide'] },\r\n    { topic: Decimal, subTopics: ['order', 'round'] },\r\n    { topic: Fraction, subTopics: ['simplify', 'addSameDenom', 'addDiffDenom', 'times', 'divide', 'compare'] },\r\n    { topic: metricConversion, subTopics: ['m/cm', 'm/mm', 'km/m', 'g/mg', 'kg/g', 'L/cL', 'L/mL'] },\r\n    { topic: TimeConversion, subTopics: ['secMin', 'secMinHr'] },\r\n    { topic: FactorsMultiples, subTopics: ['prodOfPrimes', 'findMultiple', 'facOrMul', 'hcf', 'lcm', 'numFactors'] },\r\n    { topic: PercentOf, subTopics: ['beginner1', 'beginner2', 'intermediate', 'expert'] },\r\n    { topic: PercentChange, subTopics: ['beginner1', 'beginner2', 'intermediate', 'expert'] },\r\n    { topic: ReversePercentage, subTopics: [] },\r\n    { topic: Ratio, subTopics: ['simplify', 'mapForm', 'keepRatio', 'share', 'givenDiff'] },\r\n    { topic: Vocab, subTopics: [] }\r\n];","import { metricConversion } from './QTypes';\r\n\r\nconst conversionPairs = [\r\n  { type: 'zeroQ' },\r\n  { type: 'm/cm', large: ['metres', 'm'], small: ['centimetres', 'cm'], ratio: 100 },\r\n  { type: 'm/mm', large: ['metres', 'm'], small: ['millimetres', 'mm'], ratio: 1000 },\r\n  { type: 'km/m', large: ['kilometres', 'Km'], small: ['metres', 'm'], ratio: 1000 },\r\n\r\n  { type: 'g/mg', large: ['grams', 'g'], small: ['milligrams', 'mg'], ratio: 1000 },\r\n  { type: 'kg/g', large: ['kilograms', 'Kg'], small: ['grams', 'g'], ratio: 1000 },\r\n\r\n  { type: 'L/cL', large: ['litres', 'L'], small: ['centilitres', 'cL'], ratio: 100 },\r\n  { type: 'L/mL', large: ['litres', 'L'], small: ['millilitres', 'mL'], ratio: 1000 },\r\n]\r\n\r\nconst MetricConversionQ = (subQType) => {\r\n  var Qtype = conversionPairs.findIndex(cp => cp.type === subQType);\r\n  console.log('index for convFacts Q is', Qtype, 'from parameter', subQType)\r\n  if (Qtype === -1) {\r\n    Qtype = Math.floor(Math.random() * (conversionPairs.length - 1)) + 1;\r\n    console.log('index changed for convFacts Q is', Qtype, 'from parameter', subQType)\r\n  }\r\n  //console.log(metricConversion+'-'+Qtype);\r\n  var convFacts = conversionPairs[Qtype];\r\n  let forward = Math.random() < 0.5 ? true : false,\r\n    extraLarge = Math.random() < 0.25 ? 1 : Math.random() < 0.8 ? 10 : 100;\r\n  let small = Math.floor(Math.random() * convFacts.ratio) * extraLarge,\r\n    large = small / convFacts.ratio;\r\n  return forward ?\r\n    {\r\n      q: \"Convert \" + small + convFacts.small[1] + \" to \" + convFacts.large[0],\r\n      a: '' + large, QType: metricConversion + '-' + conversionPairs[Qtype].type\r\n    } :\r\n    {\r\n      q: \"Convert \" + large + convFacts.large[1] + \" to \" + convFacts.small[0],\r\n      a: '' + small, QType: metricConversion + '-' + conversionPairs[Qtype].type\r\n    }\r\n}\r\n\r\nexport default MetricConversionQ;\r\n","import { TimeConversion } from './QTypes';\r\n\r\n// so ohr 2min 28sec => 148sec\r\nconst hms2sec = (h, m, s) => h*3600+m*60+s\r\n\r\nconst conversionPairs = [\r\n    'null',\r\n    'secMin', 'secMinHr',\r\n    //'minHr', 'minHrDays',\r\n    //'hrDays', 'hrWeeks', 'hrDaysWeeks'\r\n]\r\n\r\nconst rnd = (outof) => Math.floor(Math.random()*outof);\r\n\r\nconst TimeConversionQ = (subType) => {\r\n    var subQType = Number(subType) || Math.floor(Math.random()*(conversionPairs.length-1))+1;\r\n    /* direction of conversion decided by forward variable\r\n    * before composing quAndA: parts are labeled left, middle and right\r\n    * so 1min 78sec will give\r\n    * LMR: 138, 1, 78\r\n    * and the Qs\r\n    * 138 seconds is 1min and how many seconds?\r\n    * 138 seconds is 18seconds and how many minutes?\r\n    * Convert 1min 78sec into seconds\r\n    * because answer should be a number\r\n    */\r\n\r\n    // at the moment, I don't like the need for answers with unspecified format\r\n    // So I am setting forward to false so it never asks for answer in form 2hr 3min 5sec\r\n    let forward = Math.random() < 0 ? true : false;\r\n    var left, right, leftUnits, rightUnits;\r\n    var sec = rnd(60), min = rnd(60), hr = rnd(24);\r\n    switch (conversionPairs[subQType]) {\r\n        case 'secMin' : {\r\n            if (min===0) {min++}\r\n            var totalSec = hms2sec(0, min, sec);\r\n            left =''+totalSec; right = min+'min '+sec+'sec';\r\n            leftUnits = 'seconds'; rightUnits = 'minutes and seconds';\r\n            break\r\n        }\r\n        case 'secMinHr' : {\r\n            totalSec = hms2sec(hr, min, sec);\r\n            left = ''+totalSec; right=hr+'hr '+min+'min '+sec+'sec';\r\n            leftUnits='seconds'; rightUnits = 'hours minutes and seconds';\r\n            break\r\n        }\r\n        default: return { q:'TimeConversion default Q', a:'625' }\r\n    }\r\n    subQType = TimeConversion+'-'+conversionPairs[subQType];\r\n    // console.log(subQType);\r\n    return forward ? \r\n        { q:'Convert '+left+leftUnits+' to '+rightUnits, \r\n          a:right, QType:subQType, answerFormat:'string', extraKeys:['hrs', 'min', 'sec'] } :\r\n        { q:'Convert '+right+' to '+leftUnits,\r\n          a:left, QType:subQType, answerFormat:'number', extraKeys:['hrs', 'min', 'sec'] }\r\n}\r\n\r\nexport default TimeConversionQ\r\n","import { Vocab } from './QTypes';\r\n\r\nconst circleVocab = [\r\n    {q:'What do you call a line that goes from the edge of a circle, through the centre, to the other side?', \r\n     a:'diameter'},\r\n    {q:'What do you call a line from the centre of a circle to the edge of the circle?', a:'radius'},\r\n    {q:'What do you call a line that just touches the outside of a circle?', a:'tangent'},\r\n    {q:'What do you call a line that cuts across a circle, but not necessarily through the centre?', a:'chord'},\r\n    {q:'A chord cuts a circle into two ...?', a:'segments'},\r\n    {q:'Two radii (radiuses) cut out a piece like a slice of pie, called a ...?', a:'sector'}\r\n];\r\n\r\nconst triangleVocab = [\r\n    {q:'A triangle with all sides equal is described as ...?', a:'equilateral'},\r\n    {q:'A triangle with exactly two sides equal is described as ...?', a:'isosceles'},\r\n    {q:'A triangle with all sides of different length is described as ...?', a:'scalene'},\r\n    {q:'The long side of a right-angled triangle is called the ...?', a:'hypotenuse'}\r\n];\r\n\r\nconst angleVocab = [\r\n    {q:'An angle which is less than 90 degrees is described as ...?', a:'acute'},\r\n    {q:'An angle which is exactly 90 degrees is described as ...?', a:'right'},\r\n    {q:'An angle which is more than 90 degrees is described as ...?', a:'obtuse'},\r\n    {q:'An angle which is more than 180 degrees is described as ...?', a:'reflex'},\r\n    {q:'Two angles which add up to 180 degress are described as ...?', a:'supplementary'},\r\n    {q:'Two angles which add up to 90 degress are described as ...?', a:'complementary'},\r\n    {q:'Lines which point in the same direction and never meet are described as ...?', a:'parallel'}\r\n]\r\n\r\nconst VocabQList = [...circleVocab, ...triangleVocab, ...angleVocab];\r\n\r\nconst VocabQ = () => {\r\n    var question = Math.floor(Math.random()*VocabQList.length);\r\n    return {...VocabQList[question], answerFormat:'string', QType:Vocab}\r\n}\r\n\r\nexport default VocabQ;\r\n","import { Ratio } from './QTypes';\r\nimport { RandomInt, RandomElement, randomNames, distinctElementsFrom } from './RandomFuncs';\r\n\r\nconst subQTypes = [\r\n    null, 'simplify', 'mapForm', 'keepRatio', 'share', 'givenDiff'\r\n];\r\n\r\nconst coprimes = {\r\n    1: [2, 3, 4, 5, 6, 7, 8, 9],\r\n    2: [3, 5, 7, 9],\r\n    3: [4, 5, 7, 8],\r\n    4: [5, 7, 9],\r\n    5: [6, 7, 8, 9]//,\r\n    // 6 : [7],\r\n    // 7 : [8, 9],\r\n    // 8 : [9]\r\n}\r\n\r\n// apart from 7 itself, these numbers have only 2, 3, 5 as prime factors (and not too high)\r\nconst multipliers = [2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 15, 18, 20, 24, 25, 30];\r\n\r\n// decimals and fractions [decimal, numerator, denominator]\r\nconst decFrac = [\r\n    [0.5, 1, 2],\r\n    [1.5, 3, 2],\r\n    [2.5, 5, 2],\r\n    [0.25, 1, 4],\r\n    [0.75, 3, 4],\r\n    [1.25, 5, 4],\r\n    [0.2, 1, 5],\r\n    [0.4, 2, 5],\r\n    [0.6, 3, 5],\r\n    [0.8, 4, 5],\r\n    [1.2, 6, 5]\r\n]\r\n\r\nconst simplifyQ = () => {\r\n    var a = '' + (RandomInt(5) + 1);\r\n    var b = RandomElement(coprimes[a]);\r\n    if (RandomInt(2) === 0) { [a, b] = [b, a] }\r\n    var m = RandomElement(multipliers);\r\n    return { high: a * m + ':' + b * m, simp: a + ':' + b }\r\n}\r\n\r\nconst mapFormQ = () => {\r\n    var dF = RandomElement(decFrac);\r\n    var m = RandomElement(multipliers.slice(0, 5));\r\n    return { high: m * dF[2] + ':' + m * dF[1], mF: '1:' + dF[0] }\r\n}\r\n\r\nconst giveNames = (arr) => {\r\n    // don't use with only one name in the array!\r\n    if (arr.length === 2) { return arr.join(' and ') }\r\n    return arr[0] + ', ' + giveNames(arr.slice(1))\r\n}\r\n\r\nconst keepRatioQ = () => {\r\n    var n = randomNames(3);\r\n    var seq = RandomElement(['012', '021', '120', '102', '210', '201']).split('').map(Number);\r\n    var ratioVals = distinctElementsFrom(3, [1, 2, 3, 4, 5, 6, 7, 8, 9]);\r\n    var m = RandomInt(10) + 2;\r\n    var qFormat = RandomInt(3);\r\n    var q = '', a = '';\r\n    switch (qFormat) {\r\n        case 0: {\r\n            q = giveNames(n) + ' share some money in the ratio ' + ratioVals.join(':')\r\n                + '   ' + n[seq[0]] + ' gets £' + ratioVals[seq[0]] * m\r\n                + '   How much money did they share?';\r\n            a = ratioVals.reduce((a, b) => a + b) * m;\r\n            break\r\n        }\r\n        case 1: {\r\n            q = giveNames([n[0], n[1]]) + ' share some money in the ratio '\r\n                + ratioVals.slice(0, 2).join(':')\r\n                + '   ' + n[0] + ' gets £' + ratioVals[0] * m\r\n                + '   How much does ' + n[1] + ' get?';\r\n            a = ratioVals[1] * m;\r\n            break\r\n        }\r\n        default: {\r\n            q = giveNames(n) + ' share some money in the ratio ' + ratioVals.join(':')\r\n                + '   ' + n[seq[0]] + ' gets £' + ratioVals[seq[0]] * m\r\n                + '   How much does ' + n[seq[1]] + ' get?';\r\n            a = ratioVals[seq[1]] * m;\r\n        }\r\n    }\r\n    return { q, a }\r\n}\r\n\r\nconst shareQ = () => {\r\n    var n = randomNames(3);\r\n    var askAbout = RandomInt(3);\r\n    var ratioVals = distinctElementsFrom(3, [1, 2, 3, 4, 5, 6, 7, 8, 9]);\r\n    var m = RandomInt(10) + 2;\r\n    var q = giveNames(n) + ' share £' + ratioVals.reduce((a, b) => a + b) * m\r\n        + ' in the ratio ' + ratioVals.join(':')\r\n        + '   How much money did ' + n[askAbout] + ' get?';\r\n    var a = ratioVals[askAbout] * m;\r\n    return { q, a }\r\n}\r\n\r\nconst givenDiffQ = () => {\r\n    var n = randomNames(3);\r\n    var seq = RandomElement(['012', '021', '120', '102', '210', '201']).split('').map(Number);\r\n    var ratioVals = distinctElementsFrom(3, [1, 2, 3, 4, 5, 6, 7, 8, 9]);\r\n    var m = RandomInt(10) + 2;\r\n    var comparitor = ratioVals[seq[0]] > ratioVals[seq[1]] ? ' more' : ' less';\r\n    var q = giveNames(n) + ' shared some money in the ratio ' + ratioVals.join(':')\r\n        + ' ' +n[seq[0]] + ' got ' + Math.abs((ratioVals[seq[0]] - ratioVals[seq[1]]) * m)\r\n        + comparitor + ' than ' + n[seq[1]]\r\n        + '.   How much money did ' + n[seq[2]] + ' get?';\r\n    var a = ratioVals[seq[2]] * m;\r\n    return { q, a }\r\n}\r\n\r\nconst RatioQ = (subType) => {\r\n    const subQType = subType || RandomElement(subQTypes.slice(1));\r\n    var quAndA = { QType: Ratio + '-' + subQType, extraKeys: [':', ':', ':'] }\r\n\r\n    switch (subQType) {\r\n        case 'simplify': {\r\n            var qA = simplifyQ();\r\n            quAndA.q = \"Simplify \" + qA.high;\r\n            quAndA.a = qA.simp;\r\n            quAndA.answerFormat = \"string\";\r\n            break\r\n        }\r\n        case 'mapForm': {\r\n            qA = mapFormQ();\r\n            quAndA.q = \"Express \" + qA.high + \" in the form 1:n\";\r\n            quAndA.a = qA.mF;\r\n            quAndA.answerFormat = \"string\";\r\n            break\r\n        }\r\n        case 'keepRatio': {\r\n            qA = keepRatioQ();\r\n            quAndA.q = qA.q;\r\n            quAndA.a = qA.a;\r\n            break\r\n        }\r\n        case 'share': {\r\n            qA = shareQ();\r\n            quAndA.q = qA.q;\r\n            quAndA.a = qA.a;\r\n            break\r\n        }\r\n        case 'givenDiff': {\r\n            qA = givenDiffQ();\r\n            quAndA.q = qA.q;\r\n            quAndA.a = qA.a;\r\n            break\r\n        }\r\n        default: { quAndA.q = \"Ratio default Q\"; quAndA.a = \"42\" }\r\n    }\r\n\r\n    // console.log(quAndA);\r\n    return quAndA\r\n}\r\n\r\nexport default RatioQ;","const { RandomInt, RandomElement } = require('../RandomFuncs');\r\nexport const Coeffs = (n) => Array(n).fill(9).map(RandomInt)\r\n        .map((x, i)=>{\r\n            if (i===0) {return x+1}\r\n            return RandomInt(2) === 1 ? x+1 : -(x+1)\r\n        });\r\nexport const threeVars = (n) => Array(n).fill(['a', 'b', 'c']).map(RandomElement);\r\nexport const twoVars = (n) => Array(n).fill(['a', 'b']).map(RandomElement);\r\nexport const oneVar = (n) => Array(n).fill(RandomElement(['a', 'b', 'c']));","import { Coeffs, threeVars, twoVars, oneVar } from './CoeffsAndVars';\r\nconst { RandomInt } = require('../RandomFuncs');\r\n\r\n\r\n// to test above, which are random so can't be tested with jest\r\n// for (var i = 0; i<10; i++) {\r\n//     console.log(Coeffs(4), Coeffs(6));\r\n//     console.log(threeVars(4), threeVars(7));\r\n//     console.log(twoVars(3), twoVars(6));\r\n//     console.log(oneVar(8), oneVar(2));\r\n// }\r\n\r\n\r\n// parameters are coefficients and the variable names\r\n// output is an expression such as 6a+7c+3b-9a+4c\r\nexport const combine = (c, v) => {\r\n    var l = Math.min(c.length, v.length);\r\n    if (l === 0 ) {return null}\r\n    var exp = '';\r\n    for (var i = 0; i<l; i++) {\r\n        if (c[i]!== 0) {\r\n            exp += c[i] < 0 ? '-' : exp.length > 0 ? '+' : '';\r\n            var val = Math.abs(c[i]);\r\n            exp += val === 1 && v[i] !== '' ? '' : val;\r\n            exp += v[i];\r\n        }\r\n    }\r\n    // console.log('combining ', c, v, 'to get', exp)\r\n    return exp === '' ? '0' : exp;\r\n}\r\n\r\n// parameters are coefficients and the variable names\r\n// output is the simplified form of the expression given by combine\r\nexport const SimplifyAddSub = (c, v) => {\r\n    var varList = v.filter((x, i)=> v.indexOf(x) === i).sort();\r\n    const collectLikeTerms = (a) => c.reduce((acc, val, i) => v[i]===a?acc+val:acc, 0);\r\n    return combine(varList.map(collectLikeTerms), varList);\r\n}\r\n\r\n// expression in Q has n terms\r\n// at the moment, none of them are simply numbers\r\nexport const simpAddSubQ = (n) => {\r\n    var coeffs = Coeffs(n);\r\n    var t = RandomInt(4); // to choose how many variables to put into Q\r\n    var letters = t<=1? threeVars(n) : t===2 ? twoVars(n) : oneVar(n);\r\n    return {\r\n        q : 'Simplify '+combine(coeffs, letters),\r\n        a : SimplifyAddSub(coeffs, letters)\r\n    } \r\n}\r\n\r\n//console.log(Coeffs(), threeVars());","import { Coeffs } from './CoeffsAndVars';\r\nimport { RandomInt, distinctPrimes } from '../RandomFuncs';\r\nimport { combine } from './SimplifyAddSub';\r\n\r\nexport const Brackets1 = (outer, coeffs, varNames) => {\r\n    var inner = combine(coeffs, varNames)\r\n    return outer + '(' + inner + ')'\r\n}\r\n\r\nconst multiply = (out, inner) => inner.map(x => out * x)\r\nexport const Expand1 = (outer, coeffs, varNames) => combine(multiply(outer, coeffs), varNames);\r\n\r\nexport const Expand1Q = () => {\r\n    var co = Coeffs(2), mult = RandomInt(9) + 2;\r\n    return {\r\n        q: 'Expand ' + Brackets1(mult, co, ['a', '']),\r\n        a: Expand1(mult, co, ['a', ''])\r\n    }\r\n}\r\nexport const FactoriseQ = (level) => {\r\n    var co = [];\r\n    var [p1, p2] = distinctPrimes(2, 'small');\r\n    switch (level) {\r\n        case 1: { co = RandomInt(2) === 0 ? [1, p1] : [p1, 1]; break }\r\n        case 2: { co = RandomInt(2) === 0 ? [p1, p2] : [p1, -p2]; break }\r\n        default: { console.log('level unknown in FactoriseQ:', level); co = [3, 2] }\r\n    }\r\n    var out = RandomInt(9) + 2;\r\n    return {\r\n        q: 'Factorise ' + Expand1(out, co, ['a', 'b']),\r\n        a: Brackets1(out, co, ['a', 'b'])\r\n    }\r\n}\r\n\r\n// brackets always contain same variable names in same order\r\nexport const Expand2 = (out1, co1, pm, out2, co2, varNames) => {\r\n    var first = multiply(out1, co1), second = multiply(out2, co2);\r\n    var final = first.map((x, i) => pm === '+' ? x + second[i] : x - second[i]);\r\n    return combine(final, varNames)\r\n}\r\n\r\nexport const Expand2SimplifyQ = () => {\r\n    var c1 = Coeffs(2), c2 = Coeffs(2);\r\n    var o1 = RandomInt(9) + 2, o2 = RandomInt(9) + 2;\r\n    var pm = RandomInt(2) === 0 ? '+' : '-';\r\n    var vs = ['a', 'b']\r\n    return {\r\n        q: 'Expand and simplify ' + Brackets1(o1, c1, vs) + pm + Brackets1(o2, c2, vs),\r\n        a: Expand2(o1, c1, pm, o2, c2, vs)\r\n    }\r\n}","import { Algebra01 } from './QTypes';\r\nimport { RandomElement } from './RandomFuncs';\r\nimport { simpAddSubQ } from './AlgebraFuncs/SimplifyAddSub';\r\nimport { Expand1Q, Expand2SimplifyQ, FactoriseQ } from './AlgebraFuncs/ExpandBracket';\r\nimport { substitutionQ } from './AlgebraFuncs/substitution';\r\n\r\nconst subQTypes = [\r\n    null, 'simplifyAddSub', 'expandBracket', 'expand2Simplify', 'factorise1', 'factorise2', 'substitution'\r\n];\r\n\r\nconst Algebra01Q = (subType) => {\r\n    const subQType = subType || RandomElement(subQTypes.slice(1));\r\n    var quAndA = {\r\n        QType: Algebra01 + '-' + subQType,\r\n        extraKeys: ['a', 'b', 'c', '+', '-', '/'],\r\n    }\r\n    var newQ = {};\r\n    switch (subQType) {\r\n        case 'simplifyAddSub': {\r\n            newQ = simpAddSubQ(5);\r\n            quAndA.answerFormat = 'string';\r\n            quAndA.furtherInstructions = 'Give variables in alphabetical order. eg: 7+3a-2b'\r\n            break\r\n        }\r\n        case 'expandBracket': {\r\n            newQ = Expand1Q();\r\n            quAndA.answerFormat = 'string';\r\n            quAndA.furtherInstructions = 'Give variables in order of appearance in brackets';\r\n            break\r\n        }\r\n        case 'expand2Simplify': {\r\n            newQ = Expand2SimplifyQ();\r\n            quAndA.answerFormat = 'string';\r\n            quAndA.furtherInstructions = 'Give variables in order of appearance in brackets';\r\n            break\r\n\r\n        }\r\n        case 'factorise1': {\r\n            newQ = FactoriseQ(1);\r\n            quAndA.answerFormat = 'string';\r\n            quAndA.furtherInstructions = 'Give variables in order of appearance';\r\n            quAndA.extraKeys = ['a', 'b', '(', '+', '-', ')'];\r\n            break\r\n        }\r\n        case 'factorise2': {\r\n            newQ = FactoriseQ(2);\r\n            quAndA.answerFormat = 'string';\r\n            quAndA.furtherInstructions = 'Give variables in order of appearance';\r\n            quAndA.extraKeys = ['a', 'b', '(', '+', '-', ')'];\r\n            break\r\n        }\r\n        case 'substitution': {\r\n            newQ = substitutionQ();\r\n            break\r\n        }\r\n        default: { newQ.q = 'default algebra01 Q'; newQ.a = 42 }\r\n    }\r\n    quAndA.q = newQ.q; quAndA.a = newQ.a;\r\n    return quAndA;\r\n}\r\n\r\nexport default Algebra01Q;","import { combine } from './SimplifyAddSub'\r\nimport { Coeffs } from './CoeffsAndVars'\r\nimport { RandomInt } from '../RandomFuncs';\r\n\r\nexport const substitutionQ = (level = RandomInt(4)) => {\r\n    let expression, valList, answer;\r\n    let coeffs = Coeffs(4);\r\n    let toSub = Coeffs(4);\r\n    switch (level) {\r\n        case 0: {\r\n            expression = combine(coeffs.slice(0, 2), ['a', ''])\r\n            valList = 'a=' + toSub[0]; // don't allow negative values, coeffs always begin positive\r\n            answer = coeffs[0] * toSub[0] + coeffs[1]\r\n            break\r\n        }\r\n        case 1: {\r\n            expression = combine(coeffs.slice(0, 2), ['a', ''])\r\n            valList = 'a=' + toSub[1]; // allow negative values\r\n            answer = coeffs[0] * toSub[1] + coeffs[1]\r\n            break\r\n        }\r\n        case 2: {\r\n            expression = combine(coeffs.slice(0, 3), ['b', 'a', ''])\r\n            valList = 'a=' + toSub[1] + ' b=' + toSub[0];\r\n            answer = coeffs[0] * toSub[0] + coeffs[1] * toSub[1] + coeffs[2]\r\n            break\r\n        }\r\n        case 3: {\r\n            expression = combine(coeffs.slice(0, 3), ['ab', 'a', 'b'])\r\n            valList = 'a=' + toSub[0] + ' b=' + toSub[1];\r\n            answer = coeffs[0] * toSub[0] * toSub[1] + coeffs[1] * toSub[0] + coeffs[2] * toSub[1]\r\n            break\r\n        }\r\n        default: {\r\n            expression = '4x+2';\r\n            valList = 'x = 10';\r\n            answer = 42\r\n        }\r\n    }\r\n    return {\r\n        QType: \"Algebra01-substitution\",\r\n        q: 'What is the value of ' + expression + ' when ' + valList,\r\n        a: answer\r\n    }\r\n}","// define the QType in QTypes, add to list of QTypes that is exported\r\n// and import it into GetNewQs\r\nimport { simulEqs } from './QTypes';\r\nimport { RandomElement, RandomInt } from './RandomFuncs';\r\n\r\n//This list needs to be in the same as in the QTypes list\r\n//Maybe refactor so that it is extracted from that\r\nconst subQTypes = [\r\n    null, 'shopping', 'sameOfOne', 'negOfOne', 'needsScaling', 'needsArranging'\r\n]\r\n\r\nconst simulEqsQ = (subType) => {\r\n    const subQType = subType || RandomElement(subQTypes.slice(1));\r\n    // define the things which are already decieded whatever the returned question\r\n    // consider extraKeys, answerFormat, furtherInstructions\r\n    var quAndA = { QType: simulEqs + '-' + subQType };\r\n    var qA = {};\r\n    let x = RandomInt(8) + 2; // 2, 3, 4, 5, 6, 7, 8, 9\r\n    let y = RandomInt(8) + 2; // 2, 3, 4, 5, 6, 7, 8, 9\r\n    if (x === y) { y++ }\r\n    let coef1 = RandomInt(8) + 2;\r\n    let coef2 = RandomInt(8) + 2;\r\n    let coef3 = RandomInt(8) + 2;\r\n    if (coef2 === coef3) { coef3++ }\r\n    switch (subQType) {\r\n        case 'shopping' : {\r\n            qA.q = `One shopper buys ${coef1} teas and ${coef2} buns. \r\n            While a second shopper buys ${coef1} teas and ${coef3} buns. \r\n            The first shopper pays £${coef1*x + coef2*y}, while the second pays £${coef1*x + coef3*y}.\r\n            How much does a tea cost?`;\r\n            qA.a = '£'+x;\r\n            break\r\n        }\r\n        case 'sameOfOne' : {\r\n            qA.q = RandomInt(2) === 0 ? \r\n                `Solve ${coef1}A + ${coef2}B = ${coef1*x + coef2*y} \r\n                and ${coef1}A + ${coef3}B = ${coef1*x + coef3*y}` : \r\n                `Solve ${coef2}A + ${coef1}B = ${coef2*x + coef1*y} \r\n                and ${coef3}A + ${coef1}B = ${coef3*x + coef1*y}` \r\n            qA.a = `A = ${x} and B = ${y}`\r\n            break\r\n        }\r\n        case 'negOfOne' : {\r\n            qA.q = RandomInt(2) === 0 ? \r\n                `Solve ${coef1}A + ${coef2}B = ${coef1*x + coef2*y} \r\n                and ${coef3}B - ${coef1}A = ${coef3*y - coef1*x}` : \r\n                `Solve ${coef2}A - ${coef1}B = ${coef2*x - coef1*y} \r\n                and ${coef3}A + ${coef1}B = ${coef3*x + coef1*y}` \r\n            qA.a = `A = ${x} and B = ${y}`\r\n            break\r\n        }\r\n        case 'needsScaling' : {\r\n            let coef4 = coef2 === 2 ? 3 : coef2 - 1;\r\n            qA.q = RandomInt(2) === 0 ? \r\n            `Solve ${2*coef1}A + ${coef3}B = ${2*coef1*x + coef3*y} \r\n            and ${coef2}B - ${coef1}A = ${coef2*y - coef1*x}` : \r\n            `Solve ${coef1}A + ${coef2}B = ${coef1*x + coef2*y} \r\n            and ${coef1*2}A + ${coef4}B = ${coef1*2*x + coef4*y}`\r\n            qA.a = `A = ${x} and B = ${y}`\r\n            break\r\n        }\r\n        case 'needsArranging' : {\r\n            let c = coef1*x - coef3*y;\r\n            qA.q = 'Solve ';\r\n            qA.q += c < 0 ? `${coef1}A = ${coef3}B - ${-c}` : `${coef1}A - ${c} = ${coef3}B`\r\n            qA.q += ` and ${coef1}A + ${coef2}B = ${coef1*x + coef2*y}`\r\n            qA.a = `A = ${x} and B = ${y}`\r\n            break\r\n        }\r\n        default: {\r\n            qA.q = 'default simul Eqs Question';\r\n            qA.a = 42\r\n        }\r\n    }\r\n    quAndA.q = qA.q;\r\n    quAndA.a = qA.a;\r\n    return quAndA\r\n}\r\n\r\n// import into GetnewQs and add to the switch\r\nexport default simulEqsQ;","// generate the qs where the unknown is on both sides\r\n/**\r\n * make sure to account for all types listed in sloveLinear:\r\n * let bothsSidestype = [\r\n                'ax+b=x+?', 'x+?=b-ax', 'ax-b=x+?', '?-x=ax+b', \r\n                'ax+b=cx+?', 'b-ax=cx+?', 'cx+?=b-ax',\r\n                'c(x+b)=ax+?', 'c(b-x)=ax+?'\r\n            ][RandomInt(10)]\r\n */\r\nconst tidy = (u) => u < 0 ? ' - ' + (-u) : u === 0 ? '' : ' + ' + u\r\nexport const bothSidesQ = (x, coefOfx, constTerm, otherCoef, qType) => {\r\n    switch (qType) {\r\n        case 'ax+b=x+?': {\r\n            let unknown = (coefOfx - 1) * x + constTerm;\r\n            return coefOfx + 'x + ' + constTerm + ' = x' + tidy(unknown)\r\n        }\r\n        case 'x+?=b-ax': {\r\n            let unknown = constTerm - (coefOfx + 1) * x;\r\n            return 'x' + tidy(unknown) + ' = ' + constTerm + ' - ' + coefOfx + 'x'\r\n        }\r\n        case 'ax-b=x+?': {\r\n            let unknown = (coefOfx - 1) * x - constTerm;\r\n            return coefOfx + 'x - ' + constTerm + ' = x' + tidy(unknown)\r\n        }\r\n        case '?-x=ax+b': {\r\n            let unknown = constTerm + (coefOfx + 1) * x;\r\n            return unknown + ' - x = ' + coefOfx + 'x + ' + constTerm\r\n        }\r\n\r\n        case 'ax+b=cx+?': { //case 5\r\n            let unknown = (coefOfx - otherCoef) * x + constTerm;\r\n            return coefOfx + 'x + ' + constTerm + ' = ' + otherCoef + 'x' + tidy(unknown)\r\n        }\r\n        case 'b-ax=cx+?': {\r\n            let unknown = constTerm - (coefOfx + otherCoef) * x;\r\n            return constTerm + ' - ' + coefOfx + 'x = ' + otherCoef + 'x' + tidy(unknown)\r\n        }\r\n        case 'cx+?=b-ax': {\r\n            let unknown = constTerm - (coefOfx + otherCoef) * x;\r\n            return otherCoef + 'x' + tidy(unknown) + ' = ' + constTerm + ' - ' + coefOfx + 'x';\r\n        }\r\n\r\n        case 'c(x+b)=ax+?': {\r\n            let unknown = otherCoef * constTerm + (otherCoef - coefOfx) * x;\r\n            return otherCoef + '(x + ' + constTerm + ') = ' + coefOfx + 'x' + tidy(unknown)\r\n        }\r\n        case 'c(b-x)=ax+?': {\r\n            let unknown = otherCoef * constTerm - (otherCoef + coefOfx) * x;\r\n            return otherCoef+'('+constTerm+' - x) = '+coefOfx+'x'+tidy(unknown)\r\n        }\r\n        default: return '2x+0=x+' + x\r\n    }\r\n}","import { RandomInt } from '../../RandomFuncs'\r\n// Be sure to include all types listed in solveLinear.js\r\n// let fractionType = ['(cx+d) / (ax+b)', '(cx+d) / (b-ax)', '(d-cx) / (b-ax)'][RandomInt(3)];\r\n\r\n/**\r\n * we need top = bottom*r\r\n * where bottom can be our (ax + b)\r\n * then c and d can be worked out from the ratio\r\n*/\r\n\r\nconst tidy = (u) => u < 0 ? ' - ' + (-u) : u === 0 ? '' : ' + ' + u\r\nexport const linearFractionQ = (x, a, b, r, qType) => {\r\n    let c = RandomInt(8)+2;\r\n    switch (qType) {\r\n        case '(cx+d) / (ax+b)': {\r\n            let numerator = r * (a * x + b);\r\n            if (c === a*r) {c++} \r\n            let d = numerator - c*x;\r\n            let numText = d === 0 ? c+'x' : '('+c+'x'+tidy(d)+')';\r\n            return numText + ' / ('+a+'x + '+b+') = '+r\r\n        }\r\n        case '(cx+d) / (b-ax)': {\r\n            let numerator = r * (b - a*x);\r\n            let d = numerator - c*x;\r\n            let numText = d === 0 ? c+'x' : '('+c+'x'+tidy(d)+')';\r\n            return numText + ' / ('+b+' - '+a+'x) = '+r\r\n        }\r\n        case '(d-cx) / (b-ax)': {\r\n            let numerator = r * (b - a*x);\r\n            let d = numerator + c*x;\r\n            let numText = d === 0 ? c+'x' : '('+d+' - '+c+'x)';\r\n            return numText + ' / ('+b+' - '+a+'x) = '+r\r\n        }\r\n        default: return '(x+0) / (x-x+1) = ' + x;\r\n    }\r\n}","// define the QType in QTypes, add to list of QTypes that is exported\r\n// and import it into GetNewQs\r\nimport { SolveLinear } from '../QTypes';\r\nimport { RandomElement } from '../RandomFuncs';\r\nimport { RandomInt } from '../RandomFuncs';\r\nimport { oneStep } from './linearQs/oneStep';\r\nimport { twoStep } from './linearQs/twoStep';\r\nimport { bracketQ } from './linearQs/bracketQ';\r\nimport { bothSidesQ } from './linearQs/bothSidesQ';\r\nimport { linearFractionQ } from './linearQs/linearFractionQ';\r\n\r\n//This list needs to be in the same as in the QTypes list\r\n//Maybe refactor so that it is extracted from that\r\nconst subQTypes = [\r\n    null, 'oneStep', 'twoStep', 'brackets', 'bothSides', 'fraction'\r\n]\r\n\r\nconst SolveLinearQ = (subType) => {\r\n    const subQType = subType || RandomElement(subQTypes.slice(1));\r\n    // define the things which are already decieded whatever the returned question\r\n    // consider extraKeys, answerFormat, furtherInstructions\r\n    let x = RandomInt(20) - 9; // x can be -9..10\r\n    // NB: don't want x=0 for random Qs involving divide by x\r\n    var quAndA = { QType: SolveLinear + '-' + subQType, a: x }; // we already know the value of x\r\n    // generate question by making an equation.\r\n    // need following\r\n    let coefOfx = RandomInt(9) + 2; // can be 2..10\r\n    let constTerm = RandomInt(24) + 2; // can be 2..25\r\n    let q = '';\r\n    switch (subQType) {\r\n        case 'oneStep': {\r\n            let oneStepTypes = ['x+a', 'x-a', 'a-x', 'ax', 'a/x', 'x/a'][RandomInt(6)];\r\n            if (oneStepTypes === 'a/x' && x === 0) { x = 7 }\r\n            if (oneStepTypes === 'x/a') {\r\n                quAndA.a = constTerm * x;\r\n            }\r\n            q = oneStep(x, constTerm, oneStepTypes);\r\n            break;\r\n        }\r\n        case 'twoStep': {\r\n            let twoStepTypes = ['ax+b', 'ax-b', 'b-ax'][RandomInt(3)];\r\n            q = twoStep(x, coefOfx, constTerm, twoStepTypes);\r\n            break;\r\n        }\r\n        case 'brackets': {\r\n            let bracketType = ['c(x+b)', 'c(ax+b)', 'c(ax-b)', 'c(b-ax)'][RandomInt(4)];\r\n            let outer = RandomInt(9) + 2; // can be 2..10\r\n            q = bracketQ(x, coefOfx, constTerm, outer, bracketType);\r\n            break;\r\n        }\r\n        case 'bothSides': {\r\n            let bothsSidestype = [\r\n                'ax+b=x+?', 'x+?=b-ax', 'ax-b=x+?', '?-x=ax+b',\r\n                'ax+b=cx+?', 'b-ax=cx+?', 'cx+?=b-ax',\r\n                'c(x+b)=ax+?', 'c(b-x)=ax+?'\r\n            ][RandomInt(9)];\r\n            let otherCoef = RandomInt(9) + 2; //can be 2..10\r\n            if (otherCoef === coefOfx) {otherCoef++}\r\n            q = bothSidesQ(x, coefOfx, constTerm, otherCoef, bothsSidestype);\r\n            break;\r\n        }\r\n        case 'fraction': {\r\n            let fractionType = ['(cx+d) / (ax+b)', '(cx+d) / (b-ax)', '(d-cx) / (b-ax)'][RandomInt(3)];\r\n            /**\r\n             * we need top = bottom*r\r\n             * where bottom can be our (ax + b)\r\n             * then c and d can be worked out from the ratio\r\n             */\r\n            let ratio = RandomInt(9)+2; //can be 2..10\r\n            q = linearFractionQ(x, coefOfx, constTerm, ratio, fractionType);\r\n            break;\r\n        }\r\n        default: {\r\n            q = 'default solveLinear Question';\r\n        }\r\n    }\r\n    quAndA.q = q;\r\n    return quAndA\r\n}\r\n\r\n// import into GetnewQs and add to the switch\r\nexport default SolveLinearQ;","// make sure that every type declared in solveLinear.js is accounted for\r\n// let qType = ['x+a', 'x-a', 'a-x', 'ax', 'a/x', 'x/a'][RandomInt(6)];\r\nexport const oneStep = (x, constTerm, qType) => {\r\n    switch (qType) {\r\n        case 'x+a': { return 'x + ' + constTerm + ' = ' + (x + constTerm) }\r\n        case 'x-a': { return 'x - ' + constTerm + ' = ' + (x - constTerm) }\r\n        case 'a-x': { return constTerm + ' - x = ' + (constTerm - x) }\r\n        case 'ax': { return constTerm + 'x = ' + (constTerm * x) }\r\n        case 'a/x': { return (constTerm * x) + '/x = ' + constTerm }\r\n        case 'x/a': { return 'x/'+constTerm+' = '+x} //answer was changed to be x*constTerm\r\n        default: return 'x = ' + x\r\n    }\r\n}","// make sure to account for all cases in SolveLinear\r\n// let twoStepTypes = ['ax+b', 'ax-b', 'b-ax'][RandomInt(3)];\r\nexport const twoStep = (x, coeffOfx, constTerm, qType) => {\r\n    switch (qType) {\r\n        case 'ax+b': { return coeffOfx + 'x + ' + constTerm + ' = ' + (coeffOfx * x + constTerm) }\r\n        case 'ax-b': { return coeffOfx + 'x - ' + constTerm + ' = ' + (coeffOfx * x - constTerm) }\r\n        case 'b-ax': { return constTerm + ' - ' + coeffOfx + 'x = ' + (constTerm - coeffOfx * x) }\r\n        default: { return 'x + 0 = ' + x }\r\n    }\r\n}","// let bracketType = ['c(x+b)', 'c(ax+b)', 'c(ax-b)', 'c(b-ax)'][RandomInt(4)];\r\nexport const bracketQ = (x, coefOfx, constTerm, outer, bracketType) => {\r\n    switch (bracketType) {\r\n        case 'c(x+b)': { return outer + '(x + ' + constTerm + ') = ' + (outer * (x + constTerm)) }\r\n        case 'c(ax+b)': { return outer + '('+coefOfx+'x + ' + constTerm + ') = ' + (outer * (coefOfx*x + constTerm)) }\r\n        case 'c(ax-b)': { return outer + '('+coefOfx+'x - ' + constTerm + ') = ' + (outer * (coefOfx*x - constTerm)) }\r\n        case 'c(b-ax)': { return outer + '('+constTerm+' - ' + coefOfx + 'x) = ' + (outer * (constTerm - coefOfx*x)) }\r\n        default: { return '(x+0) = ' + x }\r\n    }\r\n}","import { RandomInt } from '../RandomFuncs';\r\nimport { combine } from '../AlgebraFuncs/SimplifyAddSub';\r\n\r\nconst rndLinearSeq = n => {\r\n    let d = RandomInt(10) + 2\r\n    let a = RandomInt(30) + 5\r\n    if (RandomInt(3) === 0) { d *= -1 }\r\n    let seq = [...Array(n).fill(0)].map((_, i) => a + i * d)\r\n    return { seq, a, d }\r\n}\r\n\r\nexport const nextTermLinear = () => {\r\n    let seq = rndLinearSeq(6).seq;\r\n    return {\r\n        q: 'Find the next term in ' + seq.slice(0, 5).join(', ') + ', ...',\r\n        a: seq[5]\r\n    }\r\n}\r\n\r\nexport const nthTermQ = (dir = 'useNth') => {\r\n    let { seq, a, d } = rndLinearSeq(5)\r\n    let expression = d > 0 ? combine([d, a - d], ['n', '']) : combine([a - d, d], ['', 'n'])\r\n    return dir === 'useNth' ?\r\n        {\r\n            q: 'Find the first 5 terms in the sequence with nth term formula: \\n' + expression,\r\n            a: seq.join(', ')\r\n        } :\r\n        {\r\n            q: 'Find an expression for the nth term of: \\n' + seq.join(', '),\r\n            a: expression\r\n        }\r\n}\r\n\r\nexport const giveRule = () => {\r\n    let { seq, a, d } = rndLinearSeq(5);\r\n    return {\r\n        q: 'What is the term-to-term rule for \\n' + seq.join(', '),\r\n        a: d > 0 ? 'add ' + d : 'take ' + (-d)\r\n    }\r\n}\r\n\r\nexport const findNthTerm = () => {\r\n    let { seq, a, d } = rndLinearSeq(5);\r\n    let n = RandomInt(300) + 54;\r\n    let nth = a + d * (n - 1)\r\n    let extra;\r\n    switch (n % 10) {\r\n        case 1: { extra = 'st'; break }\r\n        case 2: { extra = 'nd'; break }\r\n        case 3: { extra = 'rd'; break }\r\n        default: { extra = 'th' }\r\n    }\r\n    return {\r\n        q: 'Find the ' + n + extra + ' term in: \\n' + seq.join(', '),\r\n        a: nth\r\n    }\r\n}","import { RandomInt } from '../RandomFuncs';\r\n\r\nconst rndGeometricSeq = (n) => {\r\n    let a = RandomInt(6) + 1;\r\n    let r = RandomInt(4) + 2;\r\n    let seq = [...Array(n).fill(0)].map((_, i) => a * r ** i);\r\n    return { seq, a, r }\r\n}\r\n\r\nexport const nextTermGeometric = () => {\r\n    let { seq, a, r } = rndGeometricSeq(6);\r\n    let reverse = RandomInt(2);\r\n    if (reverse === 1) { seq.reverse() }\r\n    return {\r\n        q: 'Find the next term in \\n'+seq.slice(0, 5).join(', '),\r\n        a: seq[5]\r\n    }\r\n}","import { RandomInt } from '../RandomFuncs';\r\n\r\nconst rndFibSeq = (n) => {\r\n    let a = RandomInt(5) + 1;\r\n    let b = RandomInt(7) + a;\r\n    let seq = [a, b], dp = [a, b];\r\n    while (seq.length < n) {\r\n        dp = [dp[1], dp[0] + dp[1]]\r\n        seq.push(dp[1])\r\n    }\r\n    return seq\r\n}\r\n\r\nexport const nextTermFib = () => {\r\n    let seq = rndFibSeq(6);\r\n    return {\r\n        q: 'Find the next term in \\n' + seq.slice(0, 5).join(', '),\r\n        a: seq[5]\r\n    }\r\n}","// define the QType in QTypes, add to list of QTypes that is exported\r\n// and import it into GetNewQs\r\nimport { sequenceQs } from './QTypes';\r\nimport { nextTermQ } from './sequenceFuncs.js/nextTermQ';\r\nimport { nextTermLinear, nthTermQ, giveRule, findNthTerm } from './sequenceFuncs.js/linearSeqQs';\r\nimport { nextTermGeometric } from './sequenceFuncs.js/geometricSeqQs';\r\nimport { nextTermFib } from './sequenceFuncs.js/fibonacciSeq';\r\nimport { rnd2StepSeq } from './sequenceFuncs.js/twoStepSeqQs';\r\nimport { RandomElement } from './RandomFuncs';\r\n\r\n//This list needs to be in the same as in the QTypes list\r\n//Maybe refactor so that it is extracted from that\r\nconst subQTypes = [\r\n    null, 'nextLinear', 'nextGeometric', 'nextFibonacci', 'next2Step',\r\n    'giveT2TLinear', 'useNthTerm', 'giveFormula', 'findNthTerm'\r\n]\r\n\r\nconst getSequenceQ = (subType) => {\r\n    const subQType = subType || RandomElement(subQTypes.slice(1));\r\n    // define the things which are already decieded whatever the returned question\r\n    // consider extraKeys, answerFormat, furtherInstructions\r\n    var quAndA = { QType: sequenceQs + '-' + subQType };\r\n    var qA = {};\r\n    switch (subQType) {\r\n        case 'nextLinear': { qA = nextTermLinear(); break }\r\n        case 'giveT2TLinear': { qA = giveRule(); break }\r\n        case 'useNthTerm': { qA = nthTermQ(); break }\r\n        case 'giveFormula': { qA = nthTermQ('findFormula'); break }\r\n        case 'findNthTerm': { qA = findNthTerm(); break }\r\n        case 'nextGeometric': { qA = nextTermGeometric(); break }\r\n        case 'nextFibonacci': { qA = nextTermFib(); break }\r\n        case 'next2Step': { qA = nextTermQ(rnd2StepSeq(6)); break }\r\n        default: {\r\n            qA.q = 'default sequence Question';\r\n            qA.a = 42\r\n        }\r\n    }\r\n    quAndA.q = qA.q;\r\n    quAndA.a = qA.a;\r\n    return quAndA\r\n}\r\n\r\n// import into GetnewQs and add to the switch\r\nexport default getSequenceQ;","export const nextTermQ = (seq) => {\r\n    let n = seq.length - 1\r\n    return {\r\n        q: 'Find the next term in \\n' + seq.slice(0, n).join(', '),\r\n        a: seq[n]\r\n    }\r\n}","import { RandomInt } from '../RandomFuncs';\r\n\r\nexport const rnd2StepSeq = (n) => {\r\n    let mult = RandomInt(2) + 2;\r\n    let add = RandomInt(5) + 1;\r\n    let start = RandomInt(5) + 1;\r\n    let seq = [start];\r\n    while (seq.length < n) {\r\n        let last = seq[seq.length - 1];\r\n        seq.push((last + add) * mult);\r\n    }\r\n    return seq\r\n}","import { Data } from './QTypes';\r\nimport { RandomInt, nRandomInts, RandomElement } from './RandomFuncs';\r\n\r\nconst subQTypes = [\r\n    null, 'mean', 'meanFindmissing', 'medianOdd', 'medianEven', 'range', 'mode'\r\n];\r\n\r\nconst modeQ = () => {\r\n    const howMany = RandomInt(4) + 6; // 6, 7, 8, 9\r\n    const offset = RandomInt(20) + 1;\r\n    var list = nRandomInts(howMany, 20).map(x => x + offset);\r\n    var tally = {}, modes = [], maxFreq = 0;\r\n    list.forEach(v => tally[v] = (tally[v] || 0) + 1);\r\n    for (var p in tally) {\r\n        if (tally[p] > maxFreq) {\r\n            maxFreq = tally[p];\r\n            modes = [p]\r\n        } else {\r\n            if (tally[p] === maxFreq) {\r\n                modes.push(p)\r\n            }\r\n        }\r\n        // console.log('property:', p, 'maxFreq:', maxFreq, 'modes are:', modes)\r\n    }\r\n    // console.log(list, tally)\r\n    return {\r\n        q: `Find the mode of ${list.join(', ')}`,\r\n        a: modes.length > 2 ? 'none' : modes.join(' and ')\r\n    }\r\n}\r\n\r\nconst rangeQ = () => {\r\n    const howMany = RandomInt(4) + 4; // 4, 5, 6, 7\r\n    const offset = RandomInt(20) + 1;\r\n    var list = nRandomInts(howMany, 20).map(x => x + offset);\r\n    var q = 'Find the range of ' + list.join(', ');\r\n    var a = Math.max(...list) - Math.min(...list);\r\n    return { q, a }\r\n}\r\n\r\nconst medianQ = (t) => {\r\n    const howMany = RandomInt(3) + 2;\r\n    var listLength = t === 'ODD' ? howMany * 2 + 1 : howMany * 2;\r\n    var list = nRandomInts(listLength, 15).map(x => x + 3);\r\n    var q = 'Find the median of ' + list.join(', ');\r\n    var sortedList = list.sort((a, b) => a - b);\r\n    var a = t === 'ODD' ? sortedList[howMany] : (sortedList[howMany - 1] + sortedList[howMany]) / 2\r\n    return { q, a }\r\n}\r\n\r\nconst meanQ = (t) => {\r\n    var howMany = RandomInt(3) + 5;\r\n    var offset = RandomInt(10) + 1;\r\n    var list = nRandomInts(howMany, 15).map(x => x + offset);\r\n    var listTotal = list.reduce((a, b) => a + b);\r\n    howMany++;\r\n    var targetMean = Math.ceil(listTotal / howMany);\r\n    if (t === 'findMissing') {\r\n        var q = 'The numbers ' + list.join(', ') + ', x have a mean of ' + targetMean + '. Find x';\r\n        var a = targetMean * howMany - listTotal\r\n    } else {\r\n        list.push(targetMean * howMany - listTotal);\r\n        q = 'Find the mean of  ' + list.join(', ');\r\n        a = targetMean\r\n    }\r\n    return { q, a }\r\n}\r\n\r\nconst DataQ = (subType = '') => {\r\n    const subQType = subType || RandomElement(subQTypes.slice(1));\r\n    // define the things which are already decieded whatever the returned question\r\n    // consider extraKeys, answerFormat\r\n    var quAndA = { QType: Data + '-' + subQType }\r\n    var qA = {};\r\n    switch (subQType) {\r\n        case 'mean': { qA = meanQ('regular'); break }\r\n        case 'meanFindmissing': { qA = meanQ('findMissing'); break }\r\n        case 'medianOdd': { qA = medianQ('ODD'); break }\r\n        case 'medianEven': { qA = medianQ('EVEN'); break }\r\n        case 'range': { qA = rangeQ(); break }\r\n        case 'mode': {\r\n            quAndA.answerFormat = 'string';\r\n            quAndA.furtherInstructions = 'Say \"none\" if there are none. For two modes give answer as \"lowest and highest\"'\r\n            qA = modeQ(); break\r\n        }\r\n        default: {\r\n            qA.q = 'default Data Question';\r\n            qA.a = 42\r\n        }\r\n    }\r\n    quAndA.q = qA.q;\r\n    quAndA.a = qA.a;\r\n    return quAndA\r\n}\r\n\r\nexport default DataQ;","import { Decimal } from './QTypes';\r\nimport { RandomInt, RandomElement } from './RandomFuncs';\r\n\r\nconst subQTypes = [\r\n    null, 'order', 'round'\r\n];\r\n\r\nconst orderQ = () => {\r\n    var hundreds = (RandomInt(9)+1)*100; // a number like 200\r\n    var tens = (RandomInt(9)+1) * 10;\r\n    var smaller = hundreds - RandomInt(50) - 1; // a number like 176\r\n    var tensBigger = hundreds + tens;   // a number like 230\r\n    var aBitOff = tensBigger - RandomInt(9) - 1   // a number like 227\r\n    var order1 = [hundreds, smaller, tensBigger, aBitOff];\r\n    var order2 = [tensBigger, hundreds, smaller, aBitOff];\r\n    var order3 = [aBitOff, tensBigger, hundreds, smaller];\r\n    var listDecimals = [order1, order2, order3][RandomInt(3)].map(x=>x/1000)\r\n    var upOrDown = RandomInt(2);\r\n    var sortDirection = upOrDown === 0 ? 'ascending' : 'descending'\r\n    return {\r\n        q:'Put into '+sortDirection+' order '+listDecimals.join(', '),\r\n        a: listDecimals.sort((a, b) => upOrDown === 0 ? a-b : b-a).join(', ')\r\n    }\r\n}\r\n\r\nconst roundQ = (dPlaces) => {\r\n    var dToRound = [...'012345'].map((x, i)=> i===2 ? '.' : RandomInt(9)+1).join('');\r\n    switch (dPlaces) {\r\n        case 0 : {\r\n            return {\r\n                q:'Round '+dToRound+' to the nearest whole number',\r\n                a: ''+Math.round(dToRound)\r\n            }\r\n        }\r\n        case 1 : {\r\n            return {\r\n                q:'Round '+dToRound+' to one decimal place',\r\n                a:''+Number(Math.round(dToRound+'e1')+'e-1').toFixed(1)\r\n            }\r\n        }\r\n        case 2 : {\r\n            return {\r\n                q:'Round '+dToRound+' to two decimal place',\r\n                a:''+Number(Math.round(dToRound+'e2')+'e-2').toFixed(2)\r\n            }\r\n        }\r\n        default : {\r\n            return {q:'Round 0.42 to one decimal place', a:'0.4'}\r\n        }\r\n    }\r\n}\r\n\r\nconst DecimalQ = (subType) => {\r\n    const subQType = subType || RandomElement(subQTypes.slice(1));\r\n    var quAndA = { QType: Decimal + '-' + subQType };\r\n    var qA = {};\r\n    switch (subQType) {\r\n        case 'order' : { \r\n            qA = orderQ(); \r\n            quAndA.furtherInstructions='give numbers seperated by comma and space';\r\n            quAndA.answerFormat='string'; \r\n            break \r\n        }\r\n        case 'round' : {\r\n            qA = roundQ(RandomInt(3));\r\n            quAndA.answerFormat='string'; \r\n            break\r\n        }\r\n        default : {  \r\n            qA.q = 'default Decimal Question';\r\n            qA.a = 42\r\n        }\r\n    }\r\n    quAndA.q = qA.q;\r\n    quAndA.a = qA.a;\r\n    return quAndA\r\n}\r\n\r\nexport default DecimalQ;","import { RandomElement } from '../RandomFuncs';\r\n\r\nconst simpFracs = [\r\n    { numer: 1, denom: [2, 3, 4, 5, 6, 7, 8, 9] },\r\n    { numer: 2, denom: [3, 5, 7, 9] },\r\n    { numer: 3, denom: [4, 5, 7, 8] },\r\n    { numer: 4, denom: [5, 7, 9] },\r\n    { numer: 5, denom: [6, 7, 8, 9] },\r\n    { numer: 6, denom: [7] },\r\n    { numer: 7, denom: [8, 9] },\r\n    { numer: 8, denom: [9]}\r\n];\r\n\r\nexport const simpFrac = () => {\r\n    let parts = RandomElement(simpFracs);\r\n    let d = RandomElement(parts.denom);\r\n    return [parts.numer, d]\r\n}\r\n","import { simpFrac } from './getSimpFrac';\r\nimport { RandomElement } from '../RandomFuncs';\r\nconst multipliers = {\r\n    // property is level\r\n    1: [2, 4, 10],\r\n    2: [3, 5, 6, 8, 9, 12, 15]\r\n}\r\n\r\nexport const simplifyQ = level => {\r\n    if (![1, 2].includes(level)) {level = 1}\r\n    let mult = RandomElement(multipliers[level])\r\n    let ans = simpFrac()\r\n    let ques = ans.map(x => x*mult)\r\n    return {q:\"Simplify \"+ques.join('/'), a:ans.join('/')}\r\n}","let primes = [2, 3, 5, 7];\r\nexport const simplifyFrac = frac => {\r\n    let [n, d] = frac;\r\n    for (let p of primes) {\r\n        while (n%p === 0 && d%p === 0) {\r\n            n /= p;\r\n            d /= p;\r\n        }\r\n    }\r\n    return [n, d]\r\n}\r\n\r\n// const tests = [\r\n//     [12, 96], [21, 77], [18, 21], [120, 700]\r\n// ]\r\n\r\n// tests.forEach(t => console.log(t, simplifyFrac(t)))","import { simplifyFrac } from './simplifyFrac';\r\nimport { simpFrac } from './getSimpFrac';\r\nimport { RandomInt } from '../RandomFuncs'\r\n\r\n\r\nexport const addFracQ = (level) => {\r\n    // level 1 should have fractions that are the same on the bottom\r\n    let a, b, ans;\r\n    switch (level) {\r\n        case 1: {\r\n            let denom = RandomInt(8) + 3; // 3, 4, 5, 6, 7, 8, 9, 10\r\n            let ansNum = RandomInt(denom - 2) + 2; // [2], [2, 3], [2, 3, 4],...\r\n            a = [RandomInt(ansNum - 1) + 1, denom];\r\n            b = [ansNum - a[0], denom];\r\n            ans = simplifyFrac([ansNum, denom])\r\n            break\r\n        }\r\n        case 2: {\r\n            a = simpFrac(); b = simpFrac();\r\n            ans = simplifyFrac([a[0] * b[1] + b[0] * a[1], a[1] * b[1]]);\r\n            break\r\n        }\r\n        default: {\r\n            a = [1, 2]; b = [1, 4]; ans = [3, 4]\r\n        }\r\n    }\r\n    return { q: a.join('/') + ' + ' + b.join('/'), a: ans.join('/') }\r\n}","// define the QType in QTypes, add to list of QTypes that is exported\r\n// and import it into GetNewQs\r\nimport { Fraction } from './QTypes';\r\nimport { RandomElement, RandomInt } from './RandomFuncs';\r\nimport { simplifyQ } from './fractionFuncs/simplifyQ';\r\nimport { addFracQ } from './fractionFuncs/addFracQ'\r\n\r\n//This list needs to be in the same as in the QTypes list\r\n//Maybe refactor so that it is extracted from that\r\nconst subQTypes = [\r\n    null, 'simplify', 'addSameDenom', 'addDiffDenom', 'times', 'divide', 'compare'\r\n]\r\n\r\nconst FractionQ = (subType) => {\r\n    const subQType = subType || RandomElement(subQTypes.slice(1));\r\n    // define the things which are already decieded whatever the returned question\r\n    // consider extraKeys, answerFormat, furtherInstructions\r\n    var quAndA = { QType: Fraction + '-' + subQType };\r\n    var qA = {};\r\n    switch (subQType) {\r\n        case 'simplify': {\r\n            let level = RandomInt(2) + 1;\r\n            qA = simplifyQ(level)\r\n            break\r\n        }\r\n        case 'addSameDenom': { qA = addFracQ(1); break }\r\n        case 'addDiffDenom': { qA = addFracQ(2); break }\r\n        case 'times': { qA.q = '1/4 * 1/2'; qA.a = '1/8'; break }\r\n        case 'divide': { qA.q = 'What is 1/4 divided by 1/2 ?'; qA.a = '1/2'; break }\r\n        case 'compare': { qA.q = 'Which is bigger 1/4 or 1/2 ?'; qA.a = '1/2'; break }\r\n        default: {\r\n            qA.q = 'default Fraction Question';\r\n            qA.a = 42\r\n        }\r\n    }\r\n    quAndA.q = qA.q;\r\n    quAndA.a = qA.a;\r\n    return quAndA\r\n}\r\n\r\n// import into GetnewQs and add to the switch\r\nexport default FractionQ;","import { MultiplyNumbers } from './QTypes';\r\n\r\nconst subQTypes = [\r\n    'zeroQ',\r\n    'sq', 'cube', \r\n    //'twos', 'threes', 'fours', 'fives', 'sixes', 'sevens', 'eights', 'nines', 'tens',\r\n    'sqEnd5', 'sqEnd1',\r\n    'gridWhole'//, 'decimal'\r\n]\r\n\r\nexport const MultiplyNumberQ = (subQType) => {\r\n    var type = subQType || subQTypes[Math.floor(Math.random()*(subQTypes.length-1))+1];\r\n    // console.log(MultiplyNumbers+'-'+type)\r\n    var a = Math.ceil(Math.random()*9)+1, \r\n        b = Math.ceil(Math.random()*9)+1,\r\n        c = Math.ceil(Math.random()*90)+10;\r\n    var returnable = {QType:MultiplyNumbers+'-'+type}\r\n    switch (type) {\r\n        case 'sq': return {...returnable, q:'What is '+a+' squared?', a:''+(a*a)}\r\n        case 'sqEnd5': {\r\n            a = a*10+5;\r\n            return {...returnable, q:'What is '+a+' squared?', a:''+(a*a)}\r\n        }\r\n        case 'sqEnd1': {\r\n            a = a*10+1;\r\n            return {...returnable, q:'What is '+a+' squared?', a:''+(a*a)}\r\n        }\r\n        case 'cube': return {...returnable, q:'What is '+a+' cubed?', a:''+(a*a*a)}\r\n        case 'gridWhole': return {...returnable, q:'What is '+c+' times '+(a*b)+'?', a:''+(a*b*c) }\r\n        default: return { q:'MultiplyNumberQ default Q', a:'625' }\r\n    }\r\n}","import { NegNumbers } from './QTypes';\r\nimport { RandomElement, RandomInt } from './RandomFuncs';\r\n\r\nconst subQTypes = [\r\n    null, 'adding', 'subtract', 'times', 'divide'\r\n];\r\n\r\nconst notBothPositive = () => {\r\n    // 3 options: first, second or both are negative\r\n    var op = RandomInt(3);\r\n    var a = RandomInt(15) + 1, b = RandomInt(15) + 1;\r\n    return op === 0 ? [-a, b] : op === 1 ? [a, -b] : [-a, -b]\r\n}\r\n\r\nconst NegNumQ = (subType) => {\r\n    const subQType = subType || RandomElement(subQTypes.slice(1));\r\n    // define the things which are already decieded whatever the returned question\r\n    // consider extraKeys, answerFormat\r\n    var quAndA = { QType: NegNumbers + '-' + subQType };\r\n    var qA = {};\r\n    var [a, b] = [...notBothPositive()]\r\n    switch (subQType) {\r\n        case 'adding' : {\r\n            qA.q = [a, b].join(' + ') + ' = ';\r\n            qA.a = a + b;\r\n            break\r\n        }\r\n        case 'subtract' : {\r\n            qA.q = [a, b].join(' - ') + ' = ';\r\n            qA.a = a - b;\r\n            break\r\n        }\r\n        case 'times' : {\r\n            qA.q = [a, b].join(' * ') + ' = ';\r\n            qA.a = a * b;\r\n            break\r\n        }\r\n        case 'divide' : {\r\n            qA.q = [a*b, b].join(' / ') + ' = ';\r\n            qA.a = a;\r\n            break\r\n        }\r\n        default : {  \r\n            qA.q = 'default NegNumbers Question';\r\n            qA.a = 42\r\n        }\r\n    }\r\n    quAndA.q = qA.q;\r\n    quAndA.a = qA.a;\r\n    return quAndA\r\n}\r\n\r\nexport default NegNumQ;","// define the QType in QTypes, add to list of QTypes that is exported\r\n// and import it into GetNewQs\r\nimport { FactorsMultiples } from './QTypes';\r\nimport { RandomElement, RandomInt, RandomPrime, random2357, distinctPrimes } from './RandomFuncs';\r\n\r\nconst subQTypes = [\r\n    null, 'prodOfPrimes', 'findMultiple', 'facOrMul', 'hcf', 'lcm', 'numFactors'\r\n];\r\n\r\nconst findMultipleQ = () => {\r\n    var base = RandomInt(11) + 2;\r\n    var times = RandomInt(8) + 5;\r\n    return {\r\n        q: 'Find the ' + times + 'th multiple of ' + base,\r\n        a: base * times\r\n    }\r\n}\r\n\r\nconst facOrMulQ = () => {\r\n    var factor = RandomElement([2, 3, 4, 5, 6, 10, 15]);\r\n    var multiplier = RandomElement([2, 3, 4]);\r\n    var multiple = factor * multiplier;\r\n    var t = RandomInt(2);\r\n    return t === 0 ?\r\n        { q: `Is ${factor} a factor or multiple of ${multiple}?`, a: 'factor' } :\r\n        { q: `Is ${multiple} a factor or multiple of ${factor}?`, a: 'multiple' }\r\n}\r\n\r\nconst prodOfPrimesQ = () => {\r\n    var numOfPrimes = RandomInt(2) + 4;\r\n    var primes = [...Array(numOfPrimes)].map((x, i) => RandomPrime('small')).sort((a, b) => a - b);\r\n    return {\r\n        q: `Express ${primes.reduce((a, b) => a * b, 1)} as a product of primes.`,\r\n        a: primes.join('x')\r\n    }\r\n}\r\n\r\nconst hcfQ = (level = 3, howMany = 2) => {\r\n    let hcf = random2357(level).value;\r\n    let numbers = distinctPrimes(howMany, 'small').map(x => x * hcf);\r\n    return {\r\n        q: `Find the highest common factor of \r\n            ${numbers.slice(0, -1).join(', ')} and ${numbers.slice(-1)}`,\r\n        a: hcf\r\n    }\r\n}\r\n\r\nconst lcmQ = (level = 3) => {\r\n    let hcf = random2357(level).value;\r\n    let numbers = distinctPrimes(2, 'small').map(x => x * hcf);\r\n    return {\r\n        q: `Find the lowest common multiple of \r\n            ${numbers.join(' and ')}.`,\r\n        a: numbers[0] * numbers[1] / hcf\r\n    }\r\n}\r\n\r\nconst numFactorsQ = (level=3) => {\r\n    let number = random2357(level)\r\n    return {\r\n        q:`How many factors does ${number.value} have?`,\r\n        a: number.exponents.map(x => x+1).reduce((acc, val) => acc*val, 1)\r\n    }\r\n}\r\n\r\nconst FactorsMultiplesQ = (subType) => {\r\n    const subQType = subType || RandomElement(subQTypes.slice(1));\r\n    // define the things which are already decieded whatever the returned question\r\n    // consider extraKeys, answerFormat, furtherInstructions\r\n    var quAndA = { QType: FactorsMultiples + '-' + subQType };\r\n    var qA = {};\r\n    switch (subQType) {\r\n        case 'findMultiple': { qA = findMultipleQ(); break }\r\n        case 'facOrMul': {\r\n            quAndA.answerFormat = 'string';\r\n            qA = facOrMulQ(); break\r\n        }\r\n        case 'prodOfPrimes': {\r\n            quAndA.answerFormat = 'string';\r\n            quAndA.furtherInstructions = 'Give primes in ascending order'\r\n            qA = prodOfPrimesQ(); break\r\n        }\r\n        case 'hcf': {\r\n            qA = hcfQ(2, RandomInt(2) + 2)\r\n            break\r\n        }\r\n        case 'lcm': {\r\n            qA = lcmQ(2);\r\n            break\r\n        }\r\n        case 'numFactors': {\r\n            qA = numFactorsQ(2)\r\n            break\r\n        }\r\n        default: {\r\n            qA.q = 'default factorsAndMultiples Question';\r\n            qA.a = 42\r\n        }\r\n    }\r\n    quAndA.q = qA.q;\r\n    quAndA.a = qA.a;\r\n    return quAndA\r\n}\r\n\r\n// import into GetnewQs and add to the switch\r\nexport default FactorsMultiplesQ;","import { PercentOf, PercentChange, ReversePercentage } from './QTypes';\r\nimport { RandomInt, RandomElement } from './RandomFuncs';\r\n\r\nconst beginners = [50, 25, 10];\r\nconst intermediate = [5, 10, 15, 25, 35, 50, 75];\r\n\r\nconst subTypeList = [null, 'beginner1', 'beginner2', 'intermediate', 'expert'];\r\n\r\n// percent to find, and initial amount to work with\r\nconst percentAmount = (t) => {\r\n  var percen = 0, amount = 0;\r\n  switch (t) {\r\n    case 'beginner1': {\r\n      percen = RandomElement(beginners);\r\n      amount = (RandomInt(5) + 1) * 20;\r\n      break\r\n    }\r\n    case 'beginner2': {\r\n      percen = RandomElement(beginners);\r\n      amount = (RandomInt(50) + 1) * 4;\r\n      break\r\n    }\r\n    case 'intermediate': {\r\n      percen = RandomElement(intermediate);\r\n      amount = RandomInt(200);\r\n      break\r\n    }\r\n    case 'expert': {\r\n      percen = RandomInt(99) + 1;\r\n      amount = RandomInt(200);\r\n      break\r\n    }\r\n    default: { percen = 0; amount = 0 }\r\n  }\r\n  return [percen, amount]\r\n}\r\n\r\nexport const PercentOfQ = (subType) => {\r\n  const type = subType || RandomElement(subTypeList.slice(1));\r\n  const quAndA = { QType: PercentOf + '-' + type };\r\n  var [percen, amount] = percentAmount(type);\r\n\r\n  if (percen !== 0) {\r\n    quAndA.q = 'Find ' + percen + '% of ' + amount;\r\n    quAndA.a = percen * amount / 100\r\n  } else {\r\n    quAndA.q = 'Default Percentage Q';\r\n    quAndA.a = 42\r\n  }\r\n  return quAndA;\r\n}\r\n\r\nexport const PercentChangeQ = (subType) => {\r\n  const type = subType || RandomElement(subTypeList.slice(1));\r\n  const quAndA = { QType: PercentChange + '-' + type };\r\n  var [percen, amount] = percentAmount(type);\r\n\r\n  if (percen !== 0) {\r\n    if (RandomInt(4) === 0) { // ask user to calculate what the percentage change was\r\n      quAndA.q = 'A shop is having a sale. The price of an item went from £'\r\n        + amount + ' to £' + ((100 - percen) * amount / 100).toFixed(2)\r\n        + '  Find the percentage change';\r\n      quAndA.a = percen;\r\n    } else { // ask user to calculate the new amount\r\n      if (RandomInt(2) === 1) {\r\n        quAndA.q = 'Increase ' + amount + ' by ' + percen + '%';\r\n        quAndA.a = (100 + percen) * amount / 100;\r\n      } else {\r\n        quAndA.q = 'Decrease ' + amount + ' by ' + percen + '%';\r\n        quAndA.a = (100 - percen) * amount / 100;\r\n      }\r\n    }\r\n  } else { //percen was zero\r\n    quAndA.q = 'Default Percentage Q';\r\n    quAndA.a = 42\r\n  }\r\n  return quAndA;\r\n}\r\n\r\nexport const ReversePercentageQ = () => {\r\n  const percen = RandomElement(intermediate);\r\n  const amount = (RandomInt(30) + 1) * 15;\r\n  const quAndA = {\r\n    QType: ReversePercentage,\r\n    a: amount\r\n  };\r\n  if (RandomInt(2) === 0) {\r\n    quAndA.q = 'A shop is having a ' + percen + '% off sale. The sale price of an item is £'\r\n      + ((100 - percen) * amount / 100).toFixed(2) + '  What was the original price?'\r\n  } else {\r\n    quAndA.q = 'After a '+percen+'% increase, the value of a share in Maths-ELO is now £'\r\n      + ((100 + percen) * amount / 100).toFixed(2) + '  What was the original price?'\r\n  }\r\n\r\n  return quAndA;\r\n}","import axios from 'axios';\r\n\r\nimport MetricConversionQ from './MetricConversion';\r\nimport TimeConversionQ from './TimeConversion';\r\nimport VocabQ from './VocabQ';\r\nimport RatioQ from './Ratio';\r\nimport Algebra01Q from './AlgebraQ';\r\nimport simulEqsQ from './simulEqsQ';\r\nimport SolveLinearQ from './AlgebraFuncs/solveLinear';\r\nimport getSequenceQ from './SequenceQs';\r\nimport DataQ from './DataQ';\r\nimport DecimalQ from './Decimals';\r\nimport FractionQ from './fractions';\r\nimport { MultiplyNumberQ } from './NumberOperations';\r\nimport NegNumQ from './NegNumQ';\r\nimport FactorsMultiplesQ from './FactorsMultiples'\r\nimport { PercentOfQ, PercentChangeQ, ReversePercentageQ } from './Percentage';\r\nimport {\r\n  metricConversion, TimeConversion, MultiplyNumbers, NegNumbers,\r\n  Decimal, Fraction, FactorsMultiples,\r\n  PercentOf, PercentChange, ReversePercentage,\r\n  Vocab, Ratio, Algebra01, simulEqs, Data, SolveLinear, sequenceQs,\r\n  QTypes\r\n} from './QTypes';\r\n\r\n\r\nexport const GetNewQ = (QType, subQType) => {\r\n  // console.log('QType and subQType', QType, subQType)\r\n  var type = QType || QTypes[Math.floor(Math.random() * QTypes.length)].topic;\r\n  var newQ;\r\n  switch (type) {\r\n    case metricConversion: { newQ = MetricConversionQ(subQType); break }\r\n    case MultiplyNumbers: { newQ = MultiplyNumberQ(subQType); break }\r\n    case NegNumbers: { newQ = NegNumQ(subQType); break }\r\n    case FactorsMultiples: { newQ = FactorsMultiplesQ(subQType); break }\r\n    case Decimal: { newQ = DecimalQ(subQType); break }\r\n    case Fraction: { newQ = FractionQ(subQType); break }\r\n    case PercentOf: { newQ = PercentOfQ(subQType); break }\r\n    case PercentChange: { newQ = PercentChangeQ(subQType); break }\r\n    case ReversePercentage: { newQ = ReversePercentageQ(); break }\r\n    case TimeConversion: { newQ = TimeConversionQ(subQType); break }\r\n    case Vocab: { newQ = VocabQ(); break }\r\n    case Ratio: { newQ = RatioQ(subQType); break }\r\n    case Algebra01: { newQ = Algebra01Q(subQType); break }\r\n    case SolveLinear: { newQ = SolveLinearQ(subQType); break }\r\n    case sequenceQs: { newQ = getSequenceQ(subQType); break }\r\n    case simulEqs: { newQ = simulEqsQ(subQType); break }\r\n    case Data: { newQ = DataQ(subQType); break }\r\n    default: return {\r\n      q: \"How many mathematicians does it take to change a light bulb?\",\r\n      a: \"1\", QType: 'giveDefault'\r\n    }\r\n  }\r\n  // console.log(newQ)\r\n  return newQ;\r\n}\r\n\r\nexport const getQRating = async (qType) => {\r\n  const toGet = { qType: qType };\r\n  var qRating = 1234;\r\n  await axios.get('/qratings/get1rating', { params: toGet })\r\n    .then(res => {\r\n      console.log('Axios get 1 rating:', res.data);\r\n      qRating = res.data.rating;\r\n    })\r\n    .catch(err => {\r\n      console.log('Axios Error getting rating for ', qType, err);\r\n      qRating = 1345;\r\n    });\r\n  return qRating;\r\n}\r\n","const transformRating = (rating) => 10**(rating/400);\r\n\r\n// in this, the result is from the point of view of player 1 (human) \r\n// who answered question with difficulty of rating2\r\n// howProvisional will be in [1, 10]\r\n// if the humans rating is very provisional (ie: 10) then rating1 changes by more\r\n// but the question's rating changes by little\r\nconst NewRatings = (rating1, rating2, result, howProvisional) => {\r\n    var r1=transformRating(rating1), r2 = transformRating(rating2);\r\n    // expected result for each player\r\n    var ratingSum = r1+r2;\r\n    var e1=r1/ratingSum, e2=r2/ratingSum;\r\n    // console.log('r1, e1', r1, e1)\r\n\r\n    var newR1 = rating1 + 32*howProvisional*(result - e1),\r\n        newR2 = rating2 + (32/howProvisional)*(1-result - e2);\r\n    \r\n    return [Math.floor(newR1), Math.floor(newR2)]\r\n}\r\n\r\nexport default NewRatings;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Keypad_number, Keypad_delete } from '../Reducers/actions';\r\n\r\nconst Keypad = ({ extraKeys, Keypad_number, Keypad_delete }) => {\r\n    const buttons1_9 = [...'123456789'].map(x => <button\r\n        onClick={() => Keypad_number(x)}\r\n        className=\"keypadButton\"\r\n        key={'keypad-button' + x}>{x}</button>);\r\n    const button0 = <button\r\n        onClick={() => Keypad_number('0')}\r\n        className=\"keypadButton\"\r\n        key='keypad-button0'>0</button>;\r\n    const buttonDP = <button\r\n        onClick={() => Keypad_number('.')}\r\n        className=\"keypadButton\"\r\n        key='keypad-buttonDP'>.</button>\r\n    const buttonDEL = <button\r\n        onClick={() => Keypad_delete()}\r\n        className=\"keypadButton\"\r\n        key='keypad-buttonDEL'>DEL</button>\r\n    var buttonCount = extraKeys.length === 6 ? 6 : 3\r\n    const extraButtons = extraKeys.slice(0, buttonCount).map((x, i) => <button\r\n        onClick={() => Keypad_number(x)}\r\n        className=\"keypadButton\"\r\n        key={'extra-keypad-button'+x+i}>{x}\r\n        </button>)\r\n    return (\r\n        <div className=\"keypad\">\r\n            <div>{buttons1_9.slice(0, 3)}</div>\r\n            <div>{buttons1_9.slice(3, 6)}</div>\r\n            <div>{buttons1_9.slice(6)}</div>\r\n            <div>{button0}{buttonDP}{buttonDEL}</div>\r\n            <hr />\r\n            {buttonCount > 0 ? extraButtons.slice(0, 3) : ''}\r\n            {buttonCount === 6 ? extraButtons.slice(3, 6) : ''}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {extraKeys : state.extraKeys4Pad}\r\n}\r\nexport default connect(mapStateToProps, { Keypad_number, Keypad_delete })(Keypad);","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport {\r\n    UpdateUserAnswer, UserRatingChanges,\r\n    SetNewQ, UserIsWrong, NeedNewRatedQ\r\n} from '../Reducers/actions';\r\nimport { GetNewQ, getQRating } from '../NewQs/GetNewQ';\r\nimport NewRatings from '../Ratings/Ratings';\r\nimport Keypad from '../components/Keypad';\r\n\r\nconst Question = ({\r\n    quAndA, userAnswer, userRating, wrongAnswers, needNewRatedQ,\r\n    UserRatingChanges, UpdateUserAnswer, SetNewQ, UserIsWrong, NeedNewRatedQ }) => {\r\n    const changeHandler = (e) => {\r\n        UpdateUserAnswer(e.target.value);\r\n    }\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        // allow answer like 1.70 when the required answer is 1.7\r\n        // converting to Number will do this\r\n        // but take care if questions types are included that need a string as an answer\r\n        switch (quAndA.answerFormat) {\r\n            case 'string': {\r\n                var userIsCorrect = \r\n                  userAnswer.toLowerCase().replace(/\\s/g, '') === quAndA.a.toLowerCase().replace(/\\s/g, '');\r\n                break\r\n            }\r\n            default: userIsCorrect = Number(userAnswer) === Number(quAndA.a)\r\n        }\r\n        if (userIsCorrect) {\r\n            var [newUserRating, newQuAndARating] = NewRatings(userRating, quAndA.QRating || 1500, 1, 1);\r\n            UserRatingChanges(newUserRating);\r\n            NeedNewRatedQ();\r\n        } else {\r\n            [newUserRating, newQuAndARating] = NewRatings(userRating, quAndA.QRating || 1500, 0, 1);\r\n            //console.log('QType, QRating, old, new:', quAndA.QType, quAndA.QRating, newQuAndARating);\r\n            UserRatingChanges(newUserRating);\r\n            UserIsWrong(userAnswer, newQuAndARating)\r\n        }\r\n        if (quAndA.QType !== 'giveDefault') {\r\n            const toPost = {\r\n                category: quAndA.QType,\r\n                ratingValue: newQuAndARating\r\n            }\r\n            axios.put('/qratings/new-data', toPost)\r\n                .then(res => console.log('Success while posting rating of Q', res))\r\n                .catch(err => console.log('Error while posting rating of Q', err));\r\n        } else { console.log('Did not post about default Q') }\r\n    }\r\n\r\n    const wrongAnswerList = wrongAnswers.map((x, i) =>\r\n        <p key={i}>{x} was wrong</p>)\r\n\r\n    useEffect(() => {\r\n        if (needNewRatedQ || quAndA.QType === 'giveDefault') {\r\n            var newQ = GetNewQ('', '');\r\n            //console.log('q.js, useEffect, newQ is: ', newQ);\r\n            getQRating(newQ.QType).then(promiseMessage => {\r\n                //console.log('getQRating in useEffect has promise:', promiseMessage);\r\n                newQ.QRating = promiseMessage;\r\n                SetNewQ(newQ);\r\n            })\r\n                .catch(err => {\r\n                    console.log('GetNewQ in useEffect has error:', err);\r\n                });\r\n        }\r\n    })\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div id=\"quAndA\">\r\n                <h2>{quAndA.q}</h2>\r\n                <form onSubmit={submitHandler}>\r\n                    <input className=\"answerbox\"\r\n                        type=\"text\"\r\n                        name=\"answerbox\"\r\n                        value={userAnswer}\r\n                        onChange={changeHandler} />\r\n                    <button type=\"submit\">Submit</button>\r\n                </form>\r\n                <p>{quAndA.furtherInstructions || ''}</p>\r\n                {wrongAnswerList}\r\n                <br />\r\n            </div>\r\n            {needNewRatedQ ?\r\n                <p>Fetching the rating for a new question....</p> :\r\n                <Keypad />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        quAndA: state.quAndA,\r\n        needNewRatedQ: state.needNewRatedQ,\r\n        wrongAnswers: state.wrongAnswers,\r\n        userAnswer: state.userAnswer,\r\n        userRating: state.userRating\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    UpdateUserAnswer, UserRatingChanges, SetNewQ, UserIsWrong, NeedNewRatedQ\r\n})(Question);","import React from 'react';\r\n\r\nclass QWithReveal extends React.Component {\r\n    state = {showAnswer: false, localQ:this.props.freshQ() }\r\n    quandaClass = Number(this.props.rowType) % 2 ? \"quandaBlock-odd\" : \"quandaBlock-even\";\r\n    \r\n    \r\n    handleClick = () => {\r\n        this.setState({showAnswer:!this.state.showAnswer})\r\n    }\r\n    refreshQ = () => {\r\n        this.setState({localQ:this.props.freshQ(), showAnswer:false})\r\n    }\r\n\r\n    \r\n    render() {\r\n        const RevealButton = <button className=\"revealBtn\" onClick={this.handleClick}>Show answer</button>\r\n        const Answer = <h2 className=\"aBlock\" onClick={this.handleClick} >{this.state.localQ.a}</h2>; \r\n        return (\r\n            <div className={this.quandaClass}>\r\n                <h2 className=\"qBlock\" onClick={this.refreshQ} title={this.state.localQ.QType} >{this.state.localQ.q}</h2>\r\n                {this.state.showAnswer ? Answer : RevealButton}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default QWithReveal;","import React from 'react';\r\nimport QWithReveal from './QWithReveal';\r\nimport {GetNewQ} from '../NewQs/GetNewQ';\r\nimport { elementsFrom } from '../NewQs/RandomFuncs'\r\n\r\nconst ClassRoom = (props) => {\r\n    var qList = [];\r\n    const typesToShow = elementsFrom(5, props.typeList);\r\n    \r\n    typesToShow.forEach((t, i) =>  {\r\n        var QTypeSplit = t.split('-');\r\n        // console.log('classroom is looking for qType', t, QTypeSplit);\r\n        qList.push(\r\n            <QWithReveal \r\n                freshQ = {() => GetNewQ(QTypeSplit[0], QTypeSplit[1])}\r\n                rowType={'' + i} \r\n                key={i} />\r\n        )\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <h2>This is the class room</h2>\r\n            <h3>Where you simply click to see the answers</h3>\r\n            <p>(Click on a question to get another of the same type)</p>\r\n            {qList}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ClassRoom;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ButtonGroup, Button, Dropdown, DropdownButton } from 'react-bootstrap';\r\nimport { QTypes } from '../NewQs/QTypes';\r\nimport { ToggleTopic, AllTopics, ChangeActiveScreen } from '../Reducers/actions';\r\n\r\nconst TopicSelect = ({ selectedTopics, ToggleTopic, AllTopics, ChangeActiveScreen }) => {\r\n    const qTypeList = QTypes.map(q =>\r\n        <DropdownButton title={q.topic}\r\n            variant={selectedTopics.includes(q.topic) ? \"success\" : \r\n                    selectedTopics.findIndex(t => t.startsWith(q.topic)) > -1 ? \"warning\" : \"secondary\"}\r\n            key={q.topic}\r\n            className=\"topicButton\"\r\n        >\r\n            <Dropdown.Item onClick={() => ToggleTopic(q.topic)}>all</Dropdown.Item>\r\n            {q.subTopics.map(st =>\r\n                <Dropdown.Item\r\n                    onClick={() => ToggleTopic(q.topic + '-' + st)}\r\n                    key={st}\r\n                    active={selectedTopics.includes(q.topic+'-'+st)}>{st}\r\n                </Dropdown.Item>\r\n            )}\r\n        </DropdownButton>\r\n    );\r\n\r\n    const furtherInstructions = selectedTopics.length > 0 ?\r\n        <p>When ready: <Button variant=\"link\"\r\n            onClick={() => ChangeActiveScreen(\"classRoom-General\")}>Go to the classroom</Button> <br />\r\n            (If you select more than five topics, I will pick five of them at random)\r\n        </p> :\r\n        <p>You need to select at least one topic.</p>\r\n\r\n    return (\r\n        <div>\r\n            <h2>Select Topics</h2>\r\n            <p>Click a topic to toggle its status. Select subtopics from the dropdown.<br />\r\n            Topics highlighted in green are entirely active, those in orange have subtopics selected. </p>\r\n            <ButtonGroup>\r\n                <Button onClick={() => AllTopics('all')} >Select all</Button>\r\n                <Button onClick={() => AllTopics('none')} >Clear all</Button>\r\n            </ButtonGroup>\r\n            {furtherInstructions}\r\n            <p>Currently selected are: {selectedTopics.join(', ')} </p>\r\n            <div id=\"topic-list\"  >{qTypeList}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        selectedTopics: state.selectedTopics\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { ToggleTopic, AllTopics, ChangeActiveScreen })(TopicSelect);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { DropdownButton, Dropdown } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nimport Question from './components/Question';\r\nimport ClassRoom from './components/ClassRoom';\r\nimport TopicSelect from './components/TopicSelect';\r\n// import LoginForm from './components/LoginForm';\r\nimport { ChangeActiveScreen } from './Reducers/actions';\r\nimport './App.css';\r\n\r\nconst App = ({ \r\n    userName, userRating, currentQ, \r\n    activeScreen, selectedTopics, ChangeActiveScreen }) => {\r\n  const giveme5Option = <Dropdown.Item onClick={()=>ChangeActiveScreen('classRoom')}>5 in the Classroom</Dropdown.Item>;\r\n  const rateMymathsOption = <Dropdown.Item onClick={()=>ChangeActiveScreen('testRoom')}>Rate My Maths</Dropdown.Item>;\r\n  const selectTopicsOption = <Dropdown.Item onClick={()=>ChangeActiveScreen('topicSelect')} >Select Topics</Dropdown.Item>\r\n  // const loginOption = <Dropdown.Item onClick={()=>ChangeActiveScreen('login')}>Login or Register</Dropdown.Item>;\r\n\r\n  const userLabel = userName === '' ? 'Guest user' : userName;\r\n\r\n  const mainScreen = () => {\r\n    switch (activeScreen) {\r\n      case \"testRoom\" : return <Question />;\r\n      case \"classRoom\" : return <ClassRoom typeList={[currentQ.QType]} />;\r\n      case \"classRoom-General\" : return <ClassRoom typeList={selectedTopics} />;\r\n      case \"topicSelect\" : return <TopicSelect />\r\n      // case \"login\" : return <LoginForm />;\r\n      default : return <Question />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"header\" >\r\n        <DropdownButton id=\"dropdown-variants-info\" \r\n          title=\"Maths ELO\" className=\"appTitle\" size=\"lg\">\r\n          {activeScreen === 'testRoom' ? giveme5Option : rateMymathsOption}\r\n          {selectTopicsOption}\r\n          {/* {loginOption} */}\r\n        </DropdownButton>\r\n        <p>Rate and review your maths</p>\r\n        <p className=\"userVSquestion\" >{userLabel} ({userRating}) VS {currentQ.QType} ({currentQ.QRating||'????'}) </p>\r\n      </div>\r\n      { mainScreen() }\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userName: state.userID,\r\n    userRating: state.userRating,\r\n    currentQ: state.quAndA,\r\n    activeScreen: state.activeScreen,\r\n    selectedTopics: state.selectedTopics\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { ChangeActiveScreen })(App);\r\n","import { UPDATE_USER_ANSWER, TOGGLE_TOPIC, ALL_TOPICS,\r\n    KEYPAD_NUMBER, KEYPAD_DELETE,\r\n    SET_NEW_Q, \r\n    USER_IS_WRONG, USER_RATING_CHANGES, LOGIN_USER,\r\n    CHANGE_ACTIVE_SCREEN, \r\n    NEED_NEW_RATED_Q } from './actions';\r\n\r\nimport { QTypes } from '../NewQs/QTypes';\r\n\r\nconst newQ = { \r\n    q: \"How many mathematicians does it take to change a light bulb?\", \r\n    a: \"1\", QType:'giveDefault' };\r\nconst defaultExtraKeys = ['--', '--', '--'];\r\n\r\nconst initialState = {\r\n    userRating: 1500,\r\n    userID: '',\r\n    userLoggedIn: false,\r\n    quAndA: newQ,\r\n    needNewRatedQ: true,\r\n    userAnswer: '',\r\n    selectedTopics: [...QTypes].map(x=>x.topic),\r\n    wrongAnswers: [], \r\n    extraKeys4Pad: defaultExtraKeys,\r\n    activeScreen: 'topicSelect'\r\n}\r\n\r\nconst addOrDrop = (arr, el) => {\r\n    return arr.includes(el) ? arr.filter(e => e !== el) : [...arr, el]\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    console.log('handling the action ', action)\r\n    switch (action.type) {\r\n        case UPDATE_USER_ANSWER : return {...state, userAnswer:action.payload}\r\n        case TOGGLE_TOPIC : return {...state, selectedTopics:addOrDrop(state.selectedTopics, action.topic)}\r\n        case ALL_TOPICS : return { ...state, \r\n            selectedTopics: action.mode==='all' ? [...QTypes].map(x=>x.topic) : []\r\n        }\r\n        case NEED_NEW_RATED_Q : return {...state, needNewRatedQ:true}\r\n        case USER_RATING_CHANGES: return {...state, userRating:action.userRating}\r\n        case SET_NEW_Q : return {\r\n            ...state, \r\n            quAndA:action.quAndA, \r\n            needNewRatedQ: false,\r\n            extraKeys4Pad: action.quAndA.extraKeys || defaultExtraKeys,\r\n            userAnswer:'', wrongAnswers:[]}\r\n        case USER_IS_WRONG : return {\r\n            ...state,\r\n            wrongAnswers:[...state.wrongAnswers, action.wrongAnswer],\r\n            userAnswer: '',\r\n            quAndA: {...state.quAndA, QRating: action.newQuAndARating}\r\n        }\r\n        case LOGIN_USER : return {\r\n            ...state, \r\n            userID:action.userName, userRating:action.userRating, \r\n            activeScreen:'testRoom', userLoggedIn:true\r\n        }\r\n        case KEYPAD_NUMBER : return {...state, userAnswer:state.userAnswer+action.payload}\r\n        case KEYPAD_DELETE : return {...state, userAnswer:state.userAnswer.slice(0, -1)}\r\n        case CHANGE_ACTIVE_SCREEN : return {...state, activeScreen:action.newScreen}\r\n        default : return state;\r\n    } \r\n}\r\n\r\nexport default reducer;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport App from './App';\nimport Reducer from './Reducers/Reducer';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <Provider store={createStore(Reducer)} ><App /></Provider>, \n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}